{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///Users/kangmin/Desktop/project/hongyeonju/src/context/AppDataContext.js"],"sourcesContent":["'use client';\n\nimport React, { createContext, useContext, useState, useCallback, useRef, useEffect } from 'react';\n\n\n/**\n * Global variable for non-React access to app data.\n * Useful for legacy scripts or outside of React tree.\n */\nexport const appDataStore = {\n  home: null,\n  about: null,\n  cv1: null,\n  cv2: null,\n  exhibitions: null,\n  works: null,\n  loading: false,\n  error: null,\n};\n\nconst CACHE_DURATION = 30 * 60 * 1000; // 30 minutes\n\n// Create Context\nconst AppDataContext = createContext();\n\n/**\n * Preload media (images) from the fetched data to improve UX.\n * @param {Object} appData - The fetched application data.\n */\nconst preloadMedia = (appData) => {\n  const urls = [];\n  \n  // 1. Home Image\n  if (appData.home?.link) urls.push(appData.home.link);\n  \n  // 2. Exhibition Images\n  if (Array.isArray(appData.exhibitions)) {\n    appData.exhibitions.forEach(ex => {\n      if (ex.link) urls.push(ex.link);\n      if (Array.isArray(ex.images)) {\n        ex.images.forEach(img => {\n          if (img.link) urls.push(img.link);\n        });\n      }\n    });\n  }\n  \n  // 3. Works Images\n  if (Array.isArray(appData.works)) {\n    appData.works.forEach(work => {\n      if (work.link) urls.push(work.link);\n    });\n  }\n\n  // Deduplicate and preload\n  const uniqueUrls = [...new Set(urls)];\n  uniqueUrls.forEach(url => {\n    // Basic check: preload only if it looks like an image or not explicitly mp4\n    const isImage = /\\.(jpg|jpeg|png|webp|gif|svg)$/i.test(url) || !url.includes('.mp4');\n    \n    if (isImage) {\n      const img = new Image();\n      img.src = url;\n    }\n  });\n};\n\n/**\n * AppDataProvider Component\n * Manages global application state, data fetching, and caching.\n */\nexport const AppDataProvider = ({ children }) => {\n  \n  const defaultData = {\n    home: null,\n    about: null,\n    cv1: null,\n    cv2: null,\n    exhibitions: null,\n    works: null,\n    loading: false,\n    error: null,\n  };\n\n  const [data, setData] = useState(defaultData);\n  const [isMenuOpen, setIsMenuOpen] = useState(false);\n  const isLoading = useRef(false);\n\n  // Initialize state from local storage cache if valid (Client-side only)\n  useEffect(() => {\n    try {\n      const cachedData = localStorage.getItem('appData');\n      const cachedTimestamp = localStorage.getItem('appDataTimestamp');\n\n      if (cachedData && cachedTimestamp) {\n        const isCacheValid = (Date.now() - parseInt(cachedTimestamp, 10)) < CACHE_DURATION;\n        if (isCacheValid) {\n          const parsedData = JSON.parse(cachedData);\n          const loadedState = { ...parsedData, loading: false };\n          setData(loadedState);\n          Object.assign(appDataStore, loadedState);\n          preloadMedia(loadedState);\n        }\n      }\n    } catch (error) {\n      console.error(\"Failed to load cached data:\", error);\n    }\n  }, []);\n\n  const toggleMenu = useCallback(() => {\n    setIsMenuOpen(prev => !prev);\n  }, []);\n\n  /**\n   * Fetches all required data from the API.\n   * @param {boolean} force - If true, ignores cache and forces a fetch.\n   */\n  const fetchAllData = useCallback(async (force = false) => {\n    if (isLoading.current) return;\n    \n    // Check cache validity unless forced\n    if (!force) {\n      const cachedTimestamp = localStorage.getItem('appDataTimestamp');\n      if (cachedTimestamp && (Date.now() - parseInt(cachedTimestamp, 10)) < CACHE_DURATION) {\n        // If critical data exists, skip fetch\n        if (data.home && data.exhibitions) return; \n      }\n    }\n    \n    isLoading.current = true;\n    setData(prev => ({ ...prev, loading: true }));\n\n    try {\n      console.log(\"ðŸ”„ Fetching fresh data from server...\");\n      const [homeRes, aboutRes, cv1Res, cv2Res, exhibitionsRes, worksRes] = await Promise.all([\n        fetch(\"/api/getHome\").then(res => res.json()),\n        fetch(\"/api/getAbout\").then(res => res.json()),\n        fetch(\"/api/getCV1\").then(res => res.json()),\n        fetch(\"/api/getCV2\").then(res => res.json()),\n        fetch(\"/api/getExhibition\").then(res => res.json()),\n        fetch(\"/api/getWorks\").then(res => res.json()),\n      ]);\n\n      const newData = {\n        home: homeRes,\n        about: aboutRes,\n        cv1: cv1Res,\n        cv2: cv2Res,\n        exhibitions: exhibitionsRes,\n        works: worksRes,\n      };\n\n      // Update cache\n      localStorage.setItem('appData', JSON.stringify(newData));\n      localStorage.setItem('appDataTimestamp', Date.now().toString());\n\n      const finalState = { ...newData, loading: false, error: null };\n      setData(finalState);\n      Object.assign(appDataStore, finalState); // Update global store\n\n      // Preload media after fetch\n      preloadMedia(newData);\n\n    } catch (error) {\n      console.error('Failed to fetch app data:', error);\n      const errorState = { loading: false, error: error.message };\n      setData(prev => ({ ...prev, ...errorState }));\n      Object.assign(appDataStore, { ...data, ...errorState });\n    } finally {\n      isLoading.current = false;\n    }\n  }, [data]);\n\n  const refreshData = useCallback(() => {\n    return fetchAllData(true);\n  }, [fetchAllData]);\n\n  // Effect: Preload media if data is already available (e.g. from cache)\n  useEffect(() => {\n    if (data.home || data.exhibitions) {\n      preloadMedia(data);\n    }\n  }, [data]);\n\n  const value = {\n    ...data,\n    isMenuOpen,\n    toggleMenu,\n    fetchAllData,\n    refreshData,\n  };\n\n  return (\n    <AppDataContext.Provider value={value}>\n      {children}\n    </AppDataContext.Provider>\n  );\n};\n\n// Hook for using context\nexport const useAppData = () => {\n  const context = useContext(AppDataContext);\n  if (!context) {\n    throw new Error('useAppData must be used within AppDataProvider');\n  }\n  return context;\n};\n\n// Access global store\nexport const getAppData = () => appDataStore;"],"names":[],"mappings":";;;;;;;;;;;AAEA;AAFA;;;AASO,MAAM,eAAe;IAC1B,MAAM;IACN,OAAO;IACP,KAAK;IACL,KAAK;IACL,aAAa;IACb,OAAO;IACP,SAAS;IACT,OAAO;AACT;AAEA,MAAM,iBAAiB,KAAK,KAAK,MAAM,aAAa;AAEpD,iBAAiB;AACjB,MAAM,+BAAiB,IAAA,sNAAa;AAEpC;;;CAGC,GACD,MAAM,eAAe,CAAC;IACpB,MAAM,OAAO,EAAE;IAEf,gBAAgB;IAChB,IAAI,QAAQ,IAAI,EAAE,MAAM,KAAK,IAAI,CAAC,QAAQ,IAAI,CAAC,IAAI;IAEnD,uBAAuB;IACvB,IAAI,MAAM,OAAO,CAAC,QAAQ,WAAW,GAAG;QACtC,QAAQ,WAAW,CAAC,OAAO,CAAC,CAAA;YAC1B,IAAI,GAAG,IAAI,EAAE,KAAK,IAAI,CAAC,GAAG,IAAI;YAC9B,IAAI,MAAM,OAAO,CAAC,GAAG,MAAM,GAAG;gBAC5B,GAAG,MAAM,CAAC,OAAO,CAAC,CAAA;oBAChB,IAAI,IAAI,IAAI,EAAE,KAAK,IAAI,CAAC,IAAI,IAAI;gBAClC;YACF;QACF;IACF;IAEA,kBAAkB;IAClB,IAAI,MAAM,OAAO,CAAC,QAAQ,KAAK,GAAG;QAChC,QAAQ,KAAK,CAAC,OAAO,CAAC,CAAA;YACpB,IAAI,KAAK,IAAI,EAAE,KAAK,IAAI,CAAC,KAAK,IAAI;QACpC;IACF;IAEA,0BAA0B;IAC1B,MAAM,aAAa;WAAI,IAAI,IAAI;KAAM;IACrC,WAAW,OAAO,CAAC,CAAA;QACjB,4EAA4E;QAC5E,MAAM,UAAU,kCAAkC,IAAI,CAAC,QAAQ,CAAC,IAAI,QAAQ,CAAC;QAE7E,IAAI,SAAS;YACX,MAAM,MAAM,IAAI;YAChB,IAAI,GAAG,GAAG;QACZ;IACF;AACF;AAMO,MAAM,kBAAkB,CAAC,EAAE,QAAQ,EAAE;IAE1C,MAAM,cAAc;QAClB,MAAM;QACN,OAAO;QACP,KAAK;QACL,KAAK;QACL,aAAa;QACb,OAAO;QACP,SAAS;QACT,OAAO;IACT;IAEA,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAC;IACjC,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC;IAC7C,MAAM,YAAY,IAAA,+MAAM,EAAC;IAEzB,wEAAwE;IACxE,IAAA,kNAAS,EAAC;QACR,IAAI;YACF,MAAM,aAAa,aAAa,OAAO,CAAC;YACxC,MAAM,kBAAkB,aAAa,OAAO,CAAC;YAE7C,IAAI,cAAc,iBAAiB;gBACjC,MAAM,eAAe,AAAC,KAAK,GAAG,KAAK,SAAS,iBAAiB,MAAO;gBACpE,IAAI,cAAc;oBAChB,MAAM,aAAa,KAAK,KAAK,CAAC;oBAC9B,MAAM,cAAc;wBAAE,GAAG,UAAU;wBAAE,SAAS;oBAAM;oBACpD,QAAQ;oBACR,OAAO,MAAM,CAAC,cAAc;oBAC5B,aAAa;gBACf;YACF;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,+BAA+B;QAC/C;IACF,GAAG,EAAE;IAEL,MAAM,aAAa,IAAA,oNAAW,EAAC;QAC7B,cAAc,CAAA,OAAQ,CAAC;IACzB,GAAG,EAAE;IAEL;;;GAGC,GACD,MAAM,eAAe,IAAA,oNAAW,EAAC,OAAO,QAAQ,KAAK;QACnD,IAAI,UAAU,OAAO,EAAE;QAEvB,qCAAqC;QACrC,IAAI,CAAC,OAAO;YACV,MAAM,kBAAkB,aAAa,OAAO,CAAC;YAC7C,IAAI,mBAAmB,AAAC,KAAK,GAAG,KAAK,SAAS,iBAAiB,MAAO,gBAAgB;gBACpF,sCAAsC;gBACtC,IAAI,KAAK,IAAI,IAAI,KAAK,WAAW,EAAE;YACrC;QACF;QAEA,UAAU,OAAO,GAAG;QACpB,QAAQ,CAAA,OAAQ,CAAC;gBAAE,GAAG,IAAI;gBAAE,SAAS;YAAK,CAAC;QAE3C,IAAI;YACF,QAAQ,GAAG,CAAC;YACZ,MAAM,CAAC,SAAS,UAAU,QAAQ,QAAQ,gBAAgB,SAAS,GAAG,MAAM,QAAQ,GAAG,CAAC;gBACtF,MAAM,gBAAgB,IAAI,CAAC,CAAA,MAAO,IAAI,IAAI;gBAC1C,MAAM,iBAAiB,IAAI,CAAC,CAAA,MAAO,IAAI,IAAI;gBAC3C,MAAM,eAAe,IAAI,CAAC,CAAA,MAAO,IAAI,IAAI;gBACzC,MAAM,eAAe,IAAI,CAAC,CAAA,MAAO,IAAI,IAAI;gBACzC,MAAM,sBAAsB,IAAI,CAAC,CAAA,MAAO,IAAI,IAAI;gBAChD,MAAM,iBAAiB,IAAI,CAAC,CAAA,MAAO,IAAI,IAAI;aAC5C;YAED,MAAM,UAAU;gBACd,MAAM;gBACN,OAAO;gBACP,KAAK;gBACL,KAAK;gBACL,aAAa;gBACb,OAAO;YACT;YAEA,eAAe;YACf,aAAa,OAAO,CAAC,WAAW,KAAK,SAAS,CAAC;YAC/C,aAAa,OAAO,CAAC,oBAAoB,KAAK,GAAG,GAAG,QAAQ;YAE5D,MAAM,aAAa;gBAAE,GAAG,OAAO;gBAAE,SAAS;gBAAO,OAAO;YAAK;YAC7D,QAAQ;YACR,OAAO,MAAM,CAAC,cAAc,aAAa,sBAAsB;YAE/D,4BAA4B;YAC5B,aAAa;QAEf,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,6BAA6B;YAC3C,MAAM,aAAa;gBAAE,SAAS;gBAAO,OAAO,MAAM,OAAO;YAAC;YAC1D,QAAQ,CAAA,OAAQ,CAAC;oBAAE,GAAG,IAAI;oBAAE,GAAG,UAAU;gBAAC,CAAC;YAC3C,OAAO,MAAM,CAAC,cAAc;gBAAE,GAAG,IAAI;gBAAE,GAAG,UAAU;YAAC;QACvD,SAAU;YACR,UAAU,OAAO,GAAG;QACtB;IACF,GAAG;QAAC;KAAK;IAET,MAAM,cAAc,IAAA,oNAAW,EAAC;QAC9B,OAAO,aAAa;IACtB,GAAG;QAAC;KAAa;IAEjB,uEAAuE;IACvE,IAAA,kNAAS,EAAC;QACR,IAAI,KAAK,IAAI,IAAI,KAAK,WAAW,EAAE;YACjC,aAAa;QACf;IACF,GAAG;QAAC;KAAK;IAET,MAAM,QAAQ;QACZ,GAAG,IAAI;QACP;QACA;QACA;QACA;IACF;IAEA,qBACE,8OAAC,eAAe,QAAQ;QAAC,OAAO;kBAC7B;;;;;;AAGP;AAGO,MAAM,aAAa;IACxB,MAAM,UAAU,IAAA,mNAAU,EAAC;IAC3B,IAAI,CAAC,SAAS;QACZ,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT;AAGO,MAAM,aAAa,IAAM"}},
    {"offset": {"line": 241, "column": 0}, "map": {"version":3,"sources":["file:///Users/kangmin/Desktop/project/hongyeonju/src/components/ScrollToTop.js"],"sourcesContent":["'use client';\n\nimport { useEffect, useLayoutEffect, useRef, useState } from 'react';\nimport { usePathname, useSearchParams } from 'next/navigation';\n\n// Shim for useNavigationType\nconst useNavigationType = () => {\n  const [type, setType] = useState('PUSH');\n  \n  useEffect(() => {\n    const handlePopState = () => setType('POP');\n    const handlePushState = () => setType('PUSH'); // Next.js doesn't emit this natively for Link\n    // This is an imperfect shim. Ideally we'd wrap the router or use a library.\n    // For now, we rely on popstate.\n    window.addEventListener('popstate', handlePopState);\n    return () => window.removeEventListener('popstate', handlePopState);\n  }, []);\n  \n  return type;\n}\n\n/**\n * íŽ˜ì´ì§€ ì´ë™ ì‹œ ìŠ¤í¬ë¡¤ ìœ„ì¹˜ë¥¼ ê³ ë„ë¡œ ì •ë°€í•˜ê²Œ ê´€ë¦¬í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ìž…ë‹ˆë‹¤.\n */\nconst ScrollToTop = () => {\n  const pathname = usePathname();\n  const searchParams = useSearchParams();\n  // Combine to mimic location object partially\n  const location = { pathname, key: pathname + searchParams.toString() }; \n  \n  const navType = useNavigationType();\n\n  \n  const isInitialAppLoad = useRef(true);\n  const isRestoring = useRef(false);\n  const lastCapturedY = useRef(0);\n  const prevPathnameRef = useRef(location.pathname);\n  const prevKeyRef = useRef(location.key);\n  const restorationCleanupRef = useRef(null);\n\n  // 1. ì „ì—­ ì„¤ì •\n  useEffect(() => {\n    if ('scrollRestoration' in window.history) {\n      window.history.scrollRestoration = 'manual';\n    }\n    window.scrollTo(0, 0); \n  }, []);\n\n  // 2. ì‹¤ì‹œê°„ ìŠ¤í¬ë¡¤ ì¶”ì  (0 í¬í•¨ ëª¨ë“  ìœ„ì¹˜ ì €ìž¥)\n  useEffect(() => {\n    const handleScroll = () => {\n      if (!isRestoring.current) {\n        lastCapturedY.current = window.scrollY;\n      }\n    };\n    window.addEventListener('scroll', handleScroll, { passive: true });\n    return () => window.removeEventListener('scroll', handleScroll);\n  }, []);\n\n  // 3. íŽ˜ì´ì§€ ì „í™˜ ë¡œì§\n  useLayoutEffect(() => {\n    if (restorationCleanupRef.current) {\n      restorationCleanupRef.current();\n      restorationCleanupRef.current = null;\n    }\n\n    const isSamePage = prevPathnameRef.current === location.pathname;\n    const cacheKey = `scroll_${location.key}`;\n\n    // íŽ˜ì´ì§€ ì´íƒˆ ì „ í˜„ìž¬ ìœ„ì¹˜ ì €ìž¥\n    if (!isInitialAppLoad.current) {\n       try {\n         sessionStorage.setItem(`scroll_${prevKeyRef.current}`, lastCapturedY.current.toString());\n       } catch (e) {}\n    }\n\n    if (navType === 'POP' && !isInitialAppLoad.current) {\n      // CASE 1: ë’¤ë¡œê°€ê¸° ë³µì›\n      const savedPos = sessionStorage.getItem(cacheKey);\n      const restoreY = savedPos ? parseInt(savedPos, 10) : 0;\n\n      if (restoreY > 0) {\n        isRestoring.current = true;\n        const htmlStyle = document.documentElement.style;\n        const originalMinHeight = htmlStyle.minHeight;\n        htmlStyle.minHeight = (restoreY + window.innerHeight + 500) + 'px';\n\n        const perform = () => {\n          if (isRestoring.current) window.scrollTo({ top: restoreY, behavior: 'instant' });\n        };\n\n        perform();\n        const interval = setInterval(perform, 16);\n        const observer = new ResizeObserver(perform);\n        observer.observe(document.body);\n\n        const stop = () => {\n          if (!isRestoring.current) return;\n          isRestoring.current = false;\n          clearInterval(interval);\n          observer.disconnect();\n          htmlStyle.minHeight = originalMinHeight;\n          lastCapturedY.current = window.scrollY; // ì‹¤ì œ ì•ˆì°©í•œ ìœ„ì¹˜ ìº¡ì²˜\n        };\n\n        window.addEventListener('wheel', stop, { passive: true });\n        window.addEventListener('touchstart', stop, { passive: true });\n        const timer = setTimeout(stop, 2500);\n\n        restorationCleanupRef.current = () => { clearTimeout(timer); stop(); };\n      }\n    } else if (isSamePage && !isInitialAppLoad.current) {\n      // CASE 2: ë™ì¼ íŽ˜ì´ì§€ ì´ë™ (ì—°ë„ ë³€ê²½)\n      const targetY = lastCapturedY.current;\n      \n      // ì´ë¯¸ ìƒë‹¨ì— ê°€ê¹ë‹¤ë©´ ê³ ì •í•˜ì§€ ì•Šê³  ìžì—°ìŠ¤ëŸ½ê²Œ ì´ë™í•˜ë„ë¡ ë‘ \n      if (targetY > 10) {\n        isRestoring.current = true;\n        const htmlStyle = document.documentElement.style;\n        const originalMinHeight = htmlStyle.minHeight;\n        \n        htmlStyle.minHeight = (targetY + window.innerHeight) + 'px';\n\n        const pin = () => {\n          if (isRestoring.current) window.scrollTo({ top: targetY, behavior: 'instant' });\n        };\n\n        pin();\n        const interval = setInterval(pin, 16);\n        const observer = new ResizeObserver(pin);\n        observer.observe(document.body);\n\n        const stop = () => {\n          if (!isRestoring.current) return;\n          isRestoring.current = false;\n          clearInterval(interval);\n          observer.disconnect();\n          htmlStyle.minHeight = originalMinHeight;\n          // [ì¤‘ìš”] ì—°ë„ ë³€ê²½ í›„ ì½˜í…ì¸ ê°€ ì§§ì•„ ìœ„ë¡œ ë”¸ë ¤ ì˜¬ë¼ê°”ë‹¤ë©´ ê·¸ ìœ„ì¹˜(ì˜ˆ: 0)ë¥¼ ìƒˆë¡œìš´ 'ê¸°ì–µ'ìœ¼ë¡œ ì €ìž¥\n          lastCapturedY.current = window.scrollY;\n        };\n\n        // ì—°ë„ ë³€ê²½ì€ ë¹„êµì  ë¹ ë¥´ë¯€ë¡œ 0.4ì´ˆê°„ë§Œ ê°•ì œ ê³ ì •\n        const timer = setTimeout(stop, 400);\n\n        restorationCleanupRef.current = () => { clearTimeout(timer); stop(); };\n      }\n    } else {\n      // CASE 3: ì‹ ê·œ íŽ˜ì´ì§€ ì§„ìž…\n      window.scrollTo(0, 0);\n      lastCapturedY.current = 0;\n    }\n\n    isInitialAppLoad.current = false;\n    prevPathnameRef.current = location.pathname;\n    prevKeyRef.current = location.key;\n\n    return () => {\n      if (restorationCleanupRef.current) {\n        restorationCleanupRef.current();\n        restorationCleanupRef.current = null;\n      }\n    };\n  }, [location, navType]);\n\n  return null;\n};\n\nexport default ScrollToTop;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 415, "column": 0}, "map": {"version":3,"sources":["file:///Users/kangmin/Desktop/project/hongyeonju/src/assets/icons/back-arrow.png.mjs%20%28structured%20image%20object%20with%20data%20url%29"],"sourcesContent":["import src from \"IMAGE\";\nexport default { src, width: 44, height: 20, blurWidth: 8, blurHeight: 4, blurDataURL: \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAECAYAAACzzX7wAAAAL0lEQVR42oXNOQ0AIBQE0TFAhRQQgwEE4L9hBPxjk9dtMgBDR5NkT1dbK9AfysQHV4AFA3GR014AAAAASUVORK5CYII=\"};\n"],"names":[],"mappings":";;;;AAAA;;uCACe;IAAE,KAAA,4JAAG;IAAE,OAAO;IAAI,QAAQ;IAAI,WAAW;IAAG,YAAY;IAAG,aAAa;AAAoK"}},
    {"offset": {"line": 433, "column": 0}, "map": {"version":3,"sources":["file:///Users/kangmin/Desktop/project/hongyeonju/src/components/Menu.js"],"sourcesContent":["'use client';\n\nimport React from 'react';\nimport { useRouter, usePathname, useSearchParams } from 'next/navigation';\nimport { useAppData } from '../context/AppDataContext';\nimport './Menu.css';\n\n// í™”ì‚´í‘œ ì´ë¯¸ì§€ë¥¼ importí•©ë‹ˆë‹¤.\nimport arrowIcon from '../assets/icons/back-arrow.png';\n\nconst Menu = () => {\n\n  const router = useRouter();\n  const pathname = usePathname();\n  const searchParams = useSearchParams();\n  const location = { pathname }; \n\n  const { isMenuOpen, toggleMenu, refreshData, loading } = useAppData();\n\n  const [isClosing, setIsClosing] = React.useState(false); \n  const [openingImmediate, setOpeningImmediate] = React.useState(false); \n\n  const isPopStateRef = React.useRef(false);\n  const isNavigatingRef = React.useRef(false);\n\n  // ë©”ë‰´ ë‹«ê¸° í•¨ìˆ˜\n  const handleClose = React.useCallback((immediate = false) => {\n    if (immediate || isPopStateRef.current) {\n      if (isMenuOpen) toggleMenu();\n      setIsClosing(false);\n      setOpeningImmediate(false);\n      return;\n    }\n\n    setIsClosing(true);\n    setTimeout(() => {\n      if (isMenuOpen) toggleMenu();\n      setIsClosing(false);\n    }, 300);\n  }, [isMenuOpen, toggleMenu]);\n\n  // Effect: ê²½ë¡œ ë³€ê²½ ì‹œ ë©”ë‰´ ë‹«ê¸° (ë„¤ë¹„ê²Œì´ì…˜ ì™„ë£Œ í›„ ë™ìž‘)\n  React.useEffect(() => {\n    if (isMenuOpen) {\n      handleClose();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [pathname, searchParams]);\n\n  // Effect 1: ížˆìŠ¤í† ë¦¬ ê°ì§€ (íŒìŠ¤í…Œì´íŠ¸ ë¦¬ìŠ¤ë„ˆ)\n  React.useEffect(() => {\n    const handlePopState = (e) => {\n      isPopStateRef.current = true;\n      const isMenuState = e.state?.modal === 'menu';\n      \n      if (isMenuState && !isMenuOpen) {\n        setOpeningImmediate(true);\n        toggleMenu();\n      } else if (!isMenuState && isMenuOpen) {\n        handleClose(true);\n      }\n      \n      setTimeout(() => { isPopStateRef.current = false; }, 100);\n    };\n\n    window.addEventListener('popstate', handlePopState);\n    return () => {\n      window.removeEventListener('popstate', handlePopState);\n    };\n  }, [isMenuOpen, toggleMenu, handleClose]);\n\n  // Effect 1.5: ì´ˆê¸° ë¡œë“œ ì‹œ ë³µì› (ë§ˆìš´íŠ¸ ì‹œ 1íšŒë§Œ ì‹¤í–‰)\n  React.useEffect(() => {\n    if (window.history.state?.modal === 'menu' && !isMenuOpen) {\n      setOpeningImmediate(true);\n      toggleMenu();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  // Effect 2: ë©”ë‰´ ìƒíƒœì— ë”°ë¥¸ ë¶€ê°€ íš¨ê³¼\n  React.useEffect(() => {\n    if (!isMenuOpen) return;\n\n    const scrollY = window.scrollY;\n    document.body.style.position = 'fixed';\n    document.body.style.top = `-${scrollY}px`;\n    document.body.style.width = '100%';\n\n    if (window.history.state?.modal !== 'menu') {\n      window.history.pushState({ modal: 'menu' }, '');\n    }\n    \n    const handleKeyDown = (e) => {\n      if (e.key === 'Escape' && isMenuOpen) {\n        window.history.back();\n      }\n    };\n    window.addEventListener('keydown', handleKeyDown);\n\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown);\n      \n      if (isMenuOpen) {\n        const savedScrollY = document.body.style.top;\n        document.body.style.position = '';\n        document.body.style.top = '';\n        document.body.style.width = '';\n        if (savedScrollY) window.scrollTo(0, parseInt(savedScrollY) * -1);\n      }\n      isNavigatingRef.current = false;\n    };\n  }, [isMenuOpen, toggleMenu]);\n\n  const handleRefresh = async () => {\n    await refreshData();\n  };\n\n  const handleNavigate = (path) => {\n    if (location.pathname === path) {\n      window.history.back();\n    } else {\n      isNavigatingRef.current = true; \n      router.replace(path);\n      // toggleMenu(); // <-- Removed: Let useEffect handle closing on route change\n    }\n  };\n\n  if (!isMenuOpen) return null;\n\n    return (\n      <div \n        className={`menu-container ${isClosing ? 'is-closing' : ''} ${openingImmediate ? 'no-animation' : ''}`}\n      >\n        <div className=\"back-arrow\" onClick={() => window.history.back()}>\n        {/* Next.js Image import handling */}\n        <img src={arrowIcon.src || arrowIcon} alt=\"Back Arrow\" className=\"arrow-icon\" />\n      </div>\n\n      <div className=\"menu-items\">\n        <button className=\"menu-button\" onClick={() => handleNavigate('/')}>HOME</button>\n        <button className=\"menu-button\" onClick={() => handleNavigate('/works')}>WORKS</button>\n        <button className=\"menu-button\" onClick={() => handleNavigate('/exhibition')}>EXHIBITION</button>\n        <button className=\"menu-button\" onClick={() => handleNavigate('/cv')}>CV</button>\n        <button className=\"menu-button\" onClick={() => handleNavigate('/about')}>ABOUT</button>\n      </div>\n\n      <button \n        className=\"refresh-button\" \n        onClick={handleRefresh}\n        disabled={loading}\n      >\n        {loading ? 'REFRESHING...' : 'REFRESH'}\n      </button>\n    </div>\n  );\n};\n\nexport default Menu;"],"names":[],"mappings":"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"}},
    {"offset": {"line": 663, "column": 0}, "map": {"version":3,"sources":["file:///Users/kangmin/Desktop/project/hongyeonju/src/app/ClientLayout.js"],"sourcesContent":["'use client';\n\nimport { Suspense } from 'react';\nimport { AppDataProvider } from '../context/AppDataContext';\nimport ScrollToTop from '../components/ScrollToTop';\nimport Menu from '../components/Menu';\n\nexport default function ClientLayout({ children }) {\n  return (\n    <AppDataProvider>\n      <Suspense fallback={null}>\n        <ScrollToTop />\n      </Suspense>\n      <Suspense fallback={null}>\n        <Menu />\n      </Suspense>\n      {/* #root replacement from index.css logic, applied here to wrap pages */}\n      <div id=\"root\">\n        {children}\n      </div>\n    </AppDataProvider>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAOe,SAAS,aAAa,EAAE,QAAQ,EAAE;IAC/C,qBACE,8OAAC,mJAAe;;0BACd,8OAAC,iNAAQ;gBAAC,UAAU;0BAClB,cAAA,8OAAC,2IAAW;;;;;;;;;;0BAEd,8OAAC,iNAAQ;gBAAC,UAAU;0BAClB,cAAA,8OAAC,oIAAI;;;;;;;;;;0BAGP,8OAAC;gBAAI,IAAG;0BACL;;;;;;;;;;;;AAIT"}}]
}
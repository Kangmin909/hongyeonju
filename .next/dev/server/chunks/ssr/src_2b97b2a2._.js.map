{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/kangmin/Desktop/project/hongyeonju/src/components/Skeleton.js"],"sourcesContent":["import React from 'react';\nimport './Skeleton.css';\n\n// 기본 스켈레톤 박스\nexport const SkeletonBox = ({ width, height, className = '' }) => {\n  return (\n    <div \n      className={`skeleton-box ${className}`}\n      style={{ width, height }}\n    />\n  );\n};\n\n// 텍스트 스켈레톤\nexport const SkeletonText = ({ lines = 1, width = '100%' }) => {\n  return (\n    <div className=\"skeleton-text-container\">\n      {Array.from({ length: lines }).map((_, index) => (\n        <div\n          key={index}\n          className=\"skeleton-text\"\n          style={{ \n            width: index === lines - 1 ? '80%' : width,\n            marginBottom: index < lines - 1 ? '8px' : '0'\n          }}\n        />\n      ))}\n    </div>\n  );\n};\n\n// 이미지 스켈레톤\nexport const SkeletonImage = ({ width = '100%', height = '200px', className = '' }) => {\n  return (\n    <div \n      className={`skeleton-image ${className}`}\n      style={{ width, height }}\n    />\n  );\n};\n\n// 작품 아이템 스켈레톤\nexport const SkeletonWorkItem = () => {\n  return (\n    <div className=\"skeleton-work-item\">\n      <SkeletonImage height=\"auto\" className=\"skeleton-work-image\" />\n      <div className=\"skeleton-work-info\">\n        <SkeletonText lines={1} width=\"60%\" />\n        <SkeletonText lines={1} width=\"80%\" />\n      </div>\n    </div>\n  );\n};\n\n// 전시 아이템 스켈레톤\nexport const SkeletonExhibitionItem = () => {\n  return (\n    <div className=\"skeleton-exhibition-item\">\n      <SkeletonImage height=\"auto\" className=\"skeleton-exhibition-image\" />\n      <div className=\"skeleton-exhibition-info\">\n        <SkeletonBox width=\"70%\" height=\"24px\" style={{ marginBottom: '10px' }} />\n        <SkeletonText lines={1} width=\"50%\" />\n        <SkeletonText lines={1} width=\"60%\" />\n      </div>\n    </div>\n  );\n};\n\n// CV 리스트 아이템 스켈레톤\nexport const SkeletonCVItem = () => {\n  return (\n    <div className=\"skeleton-cv-item\">\n      <SkeletonBox width=\"34px\" height=\"17px\" />\n      <SkeletonText lines={1} width=\"200px\" />\n    </div>\n  );\n};\n\n// Home 이미지 스켈레톤\nexport const SkeletonHomeImage = () => {\n  return (\n    <div className=\"skeleton-home-image\">\n      <SkeletonImage width=\"100%\" height=\"100%\" />\n    </div>\n  );\n};\n\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAA;;;;AAIO,MAAM,cAAc,CAAC,EAAE,KAAK,EAAE,MAAM,EAAE,YAAY,EAAE,EAAE;IAC3D,qBACE,8OAAC;QACC,WAAW,CAAC,aAAa,EAAE,WAAW;QACtC,OAAO;YAAE;YAAO;QAAO;;;;;;AAG7B;AAGO,MAAM,eAAe,CAAC,EAAE,QAAQ,CAAC,EAAE,QAAQ,MAAM,EAAE;IACxD,qBACE,8OAAC;QAAI,WAAU;kBACZ,MAAM,IAAI,CAAC;YAAE,QAAQ;QAAM,GAAG,GAAG,CAAC,CAAC,GAAG,sBACrC,8OAAC;gBAEC,WAAU;gBACV,OAAO;oBACL,OAAO,UAAU,QAAQ,IAAI,QAAQ;oBACrC,cAAc,QAAQ,QAAQ,IAAI,QAAQ;gBAC5C;eALK;;;;;;;;;;AAUf;AAGO,MAAM,gBAAgB,CAAC,EAAE,QAAQ,MAAM,EAAE,SAAS,OAAO,EAAE,YAAY,EAAE,EAAE;IAChF,qBACE,8OAAC;QACC,WAAW,CAAC,eAAe,EAAE,WAAW;QACxC,OAAO;YAAE;YAAO;QAAO;;;;;;AAG7B;AAGO,MAAM,mBAAmB;IAC9B,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAc,QAAO;gBAAO,WAAU;;;;;;0BACvC,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAa,OAAO;wBAAG,OAAM;;;;;;kCAC9B,8OAAC;wBAAa,OAAO;wBAAG,OAAM;;;;;;;;;;;;;;;;;;AAItC;AAGO,MAAM,yBAAyB;IACpC,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAc,QAAO;gBAAO,WAAU;;;;;;0BACvC,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAY,OAAM;wBAAM,QAAO;wBAAO,OAAO;4BAAE,cAAc;wBAAO;;;;;;kCACrE,8OAAC;wBAAa,OAAO;wBAAG,OAAM;;;;;;kCAC9B,8OAAC;wBAAa,OAAO;wBAAG,OAAM;;;;;;;;;;;;;;;;;;AAItC;AAGO,MAAM,iBAAiB;IAC5B,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAY,OAAM;gBAAO,QAAO;;;;;;0BACjC,8OAAC;gBAAa,OAAO;gBAAG,OAAM;;;;;;;;;;;;AAGpC;AAGO,MAAM,oBAAoB;IAC/B,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAc,OAAM;YAAO,QAAO;;;;;;;;;;;AAGzC"}},
    {"offset": {"line": 220, "column": 0}, "map": {"version":3,"sources":["file:///Users/kangmin/Desktop/project/hongyeonju/src/components/MediaDisplay.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\n\n// 한 번 로드된 이미지 URL을 기억하여 재방문 시 깜빡임을 방지합니다.\nconst loadedImageCache = new Set();\n\n// 유튜브 URL에서 비디오 ID 추출\nconst getYouTubeVideoId = (url) => {\n  if (!url) return null;\n  \n  const patterns = [\n    /(?:youtube\\.com\\/watch\\?v=|youtu\\.be\\/|youtube\\.com\\/embed\\/)([^&\\n?#]+)/,\n    /youtube\\.com\\/watch\\?.*v=([^&\\n?#]+)/\n  ];\n  \n  for (const pattern of patterns) {\n    const match = url.match(pattern);\n    if (match && match[1]) {\n      return match[1];\n    }\n  }\n  \n  return null;\n};\n\n// 유튜브 URL인지 확인\nconst isYouTubeUrl = (url) => {\n  return getYouTubeVideoId(url) !== null;\n};\n\n// MediaDisplay 컴포넌트\nconst MediaDisplay = ({ src, alt, className, autoplay = false, controls = false, onClick }) => {\n  const [hasError, setHasError] = useState(false);\n  // 캐시에 있으면 즉시 로드된 상태로 시작합니다.\n  const [isLoaded, setIsLoaded] = useState(() => src ? loadedImageCache.has(src) : false);\n\n  useEffect(() => {\n    if (isLoaded && src) {\n      loadedImageCache.add(src);\n    }\n  }, [isLoaded, src]);\n\n  if (hasError || !src) {\n    return (\n      <div className={`media-error-placeholder ${className || ''}`}>\n        <div className=\"media-error-message\">이미지를 불러오지 못했습니다.</div>\n      </div>\n    );\n  }\n\n  const wrapperClass = `media-placeholder-wrapper ${!isLoaded ? 'loading-shimmer' : ''} ${className || ''}`;\n\n  const clickOverlayStyle = {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    width: '100%',\n    height: '100%',\n    cursor: 'pointer',\n    zIndex: 10,\n    background: 'transparent'\n  };\n\n  if (isYouTubeUrl(src)) {\n    const videoId = getYouTubeVideoId(src);\n    const autoplayParams = 'autoplay=1&mute=1&loop=1&playlist=' + videoId;\n    const embedUrl = `https://www.youtube.com/embed/${videoId}?${autoplayParams}`;\n    \n    return (\n      <div className={wrapperClass}>\n        <div className=\"media-container\">\n          <iframe\n            src={embedUrl}\n            title={alt || 'YouTube video'}\n            className=\"media-iframe\"\n            frameBorder=\"0\"\n            allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n            allowFullScreen\n            onLoad={() => setIsLoaded(true)}\n            onError={() => setHasError(true)}\n          />\n          {onClick && <div style={clickOverlayStyle} onClick={onClick} />}\n        </div>\n      </div>\n    );\n  }\n\n  if (src.endsWith('.mp4')) {\n    return (\n      <div className={wrapperClass}>\n        <video\n          src={src}\n          className=\"media-element\"\n          autoPlay={autoplay}\n          muted={autoplay}\n          loop={autoplay}\n          playsInline\n          controls={controls}\n          onLoadedData={() => setIsLoaded(true)}\n          onError={() => setHasError(true)}\n          onClick={onClick}\n          style={onClick ? { cursor: 'pointer' } : {}}\n        />\n        {onClick && !controls && <div style={clickOverlayStyle} onClick={onClick} />}\n      </div>\n    );\n  }\n\n  return (\n    <div className={wrapperClass}>\n      <img \n        src={src} \n        alt={alt || \"Media content\"} \n        className=\"media-element\"\n        onLoad={() => setIsLoaded(true)}\n        onError={() => setHasError(true)}\n        onClick={onClick}\n        style={onClick ? { cursor: 'pointer' } : {}}\n      />\n    </div>\n  );\n};\n\nexport default MediaDisplay;"],"names":[],"mappings":";;;;;AAAA;;;AAEA,0CAA0C;AAC1C,MAAM,mBAAmB,IAAI;AAE7B,sBAAsB;AACtB,MAAM,oBAAoB,CAAC;IACzB,IAAI,CAAC,KAAK,OAAO;IAEjB,MAAM,WAAW;QACf;QACA;KACD;IAED,KAAK,MAAM,WAAW,SAAU;QAC9B,MAAM,QAAQ,IAAI,KAAK,CAAC;QACxB,IAAI,SAAS,KAAK,CAAC,EAAE,EAAE;YACrB,OAAO,KAAK,CAAC,EAAE;QACjB;IACF;IAEA,OAAO;AACT;AAEA,eAAe;AACf,MAAM,eAAe,CAAC;IACpB,OAAO,kBAAkB,SAAS;AACpC;AAEA,oBAAoB;AACpB,MAAM,eAAe,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE,SAAS,EAAE,WAAW,KAAK,EAAE,WAAW,KAAK,EAAE,OAAO,EAAE;IACxF,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IACzC,4BAA4B;IAC5B,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC,IAAM,MAAM,iBAAiB,GAAG,CAAC,OAAO;IAEjF,IAAA,kNAAS,EAAC;QACR,IAAI,YAAY,KAAK;YACnB,iBAAiB,GAAG,CAAC;QACvB;IACF,GAAG;QAAC;QAAU;KAAI;IAElB,IAAI,YAAY,CAAC,KAAK;QACpB,qBACE,8OAAC;YAAI,WAAW,CAAC,wBAAwB,EAAE,aAAa,IAAI;sBAC1D,cAAA,8OAAC;gBAAI,WAAU;0BAAsB;;;;;;;;;;;IAG3C;IAEA,MAAM,eAAe,CAAC,0BAA0B,EAAE,CAAC,WAAW,oBAAoB,GAAG,CAAC,EAAE,aAAa,IAAI;IAEzG,MAAM,oBAAoB;QACxB,UAAU;QACV,KAAK;QACL,MAAM;QACN,OAAO;QACP,QAAQ;QACR,QAAQ;QACR,QAAQ;QACR,YAAY;IACd;IAEA,IAAI,aAAa,MAAM;QACrB,MAAM,UAAU,kBAAkB;QAClC,MAAM,iBAAiB,uCAAuC;QAC9D,MAAM,WAAW,CAAC,8BAA8B,EAAE,QAAQ,CAAC,EAAE,gBAAgB;QAE7E,qBACE,8OAAC;YAAI,WAAW;sBACd,cAAA,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBACC,KAAK;wBACL,OAAO,OAAO;wBACd,WAAU;wBACV,aAAY;wBACZ,OAAM;wBACN,eAAe;wBACf,QAAQ,IAAM,YAAY;wBAC1B,SAAS,IAAM,YAAY;;;;;;oBAE5B,yBAAW,8OAAC;wBAAI,OAAO;wBAAmB,SAAS;;;;;;;;;;;;;;;;;IAI5D;IAEA,IAAI,IAAI,QAAQ,CAAC,SAAS;QACxB,qBACE,8OAAC;YAAI,WAAW;;8BACd,8OAAC;oBACC,KAAK;oBACL,WAAU;oBACV,UAAU;oBACV,OAAO;oBACP,MAAM;oBACN,WAAW;oBACX,UAAU;oBACV,cAAc,IAAM,YAAY;oBAChC,SAAS,IAAM,YAAY;oBAC3B,SAAS;oBACT,OAAO,UAAU;wBAAE,QAAQ;oBAAU,IAAI,CAAC;;;;;;gBAE3C,WAAW,CAAC,0BAAY,8OAAC;oBAAI,OAAO;oBAAmB,SAAS;;;;;;;;;;;;IAGvE;IAEA,qBACE,8OAAC;QAAI,WAAW;kBACd,cAAA,8OAAC;YACC,KAAK;YACL,KAAK,OAAO;YACZ,WAAU;YACV,QAAQ,IAAM,YAAY;YAC1B,SAAS,IAAM,YAAY;YAC3B,SAAS;YACT,OAAO,UAAU;gBAAE,QAAQ;YAAU,IAAI,CAAC;;;;;;;;;;;AAIlD;uCAEe"}},
    {"offset": {"line": 399, "column": 0}, "map": {"version":3,"sources":["file:///Users/kangmin/Desktop/project/hongyeonju/src/components/YearNav.js"],"sourcesContent":["import React, { useRef, useState, useEffect } from 'react';\nimport { SkeletonBox } from './Skeleton';\n\n/**\n * 연도 네비게이션 공용 컴포넌트\n * props:\n * - years: 연도 배열\n * - selectedYear: 현재 선택된 연도\n * - onSelect: 연도 클릭 시 콜백(year => void)\n * - loading: 로딩 상태일 때 스켈레톤 표시\n * - className: 추가 클래스\n */\nconst YearNav = ({ years, selectedYear, onSelect, loading = false, className = '' }) => {\n  const yearsArray = Array.isArray(years) ? years : [];\n  const scrollRef = useRef(null);\n  const [isDragging, setIsDragging] = useState(false);\n  const [startX, setStartX] = useState(0);\n  const [scrollLeft, setScrollLeft] = useState(0);\n  const [moved, setMoved] = useState(false);\n\n  // 선택된 연도가 화면 밖으로 나갔을 경우 중앙으로 스크롤\n  useEffect(() => {\n    if (selectedYear && scrollRef.current) {\n      const activeElement = scrollRef.current.querySelector('.year.active');\n      if (activeElement) {\n        activeElement.scrollIntoView({\n          behavior: 'smooth',\n          inline: 'center',\n          block: 'nearest'\n        });\n      }\n    }\n  }, [selectedYear]);\n\n  const onMouseDown = (e) => {\n    setIsDragging(true);\n    setStartX(e.pageX - scrollRef.current.offsetLeft);\n    setScrollLeft(scrollRef.current.scrollLeft);\n    setMoved(false);\n  };\n\n  const onMouseLeave = () => {\n    setIsDragging(false);\n  };\n\n  const onMouseUp = (e) => {\n    setIsDragging(false);\n  };\n\n  const onMouseMove = (e) => {\n    if (!isDragging) return;\n    e.preventDefault();\n    const x = e.pageX - scrollRef.current.offsetLeft;\n    const walk = (x - startX) * 2; // 스크롤 속도 배율\n    if (Math.abs(walk) > 5) setMoved(true);\n    scrollRef.current.scrollLeft = scrollLeft - walk;\n  };\n\n  const handleYearClick = (year) => {\n    // 드래그 중에는 클릭 이벤트가 발생하지 않도록 방지\n    if (!moved) {\n      onSelect(year);\n    }\n  };\n\n  const renderSkeleton = () => (\n    <>\n      <div className=\"year\"><SkeletonBox width=\"40px\" height=\"24px\" /></div>\n      <div className=\"year\"><SkeletonBox width=\"40px\" height=\"24px\" /></div>\n      <div className=\"year\"><SkeletonBox width=\"40px\" height=\"24px\" /></div>\n      <div className=\"year\"><SkeletonBox width=\"40px\" height=\"24px\" /></div>\n      <div className=\"year\"><SkeletonBox width=\"40px\" height=\"24px\" /></div>\n    </>\n  );\n\n  return (\n    <nav \n      className={`year-nav ${className} ${isDragging ? 'grabbing' : ''}`.trim()}\n      ref={scrollRef}\n      onMouseDown={onMouseDown}\n      onMouseLeave={onMouseLeave}\n      onMouseUp={onMouseUp}\n      onMouseMove={onMouseMove}\n      style={{ cursor: isDragging ? 'grabbing' : 'grab' }}\n    >\n      {loading || yearsArray.length === 0\n        ? renderSkeleton()\n        : yearsArray.map((year) => (\n            <div\n              key={year}\n              className={`year ${selectedYear === year ? 'active' : ''}`}\n              onClick={() => handleYearClick(year)}\n            >\n              {year}\n            </div>\n          ))}\n    </nav>\n  );\n};\n\nexport default YearNav;\n\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAEA;;;;;;;;CAQC,GACD,MAAM,UAAU,CAAC,EAAE,KAAK,EAAE,YAAY,EAAE,QAAQ,EAAE,UAAU,KAAK,EAAE,YAAY,EAAE,EAAE;IACjF,MAAM,aAAa,MAAM,OAAO,CAAC,SAAS,QAAQ,EAAE;IACpD,MAAM,YAAY,IAAA,+MAAM,EAAC;IACzB,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC;IAC7C,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAC;IACrC,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC;IAC7C,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC;IAEnC,iCAAiC;IACjC,IAAA,kNAAS,EAAC;QACR,IAAI,gBAAgB,UAAU,OAAO,EAAE;YACrC,MAAM,gBAAgB,UAAU,OAAO,CAAC,aAAa,CAAC;YACtD,IAAI,eAAe;gBACjB,cAAc,cAAc,CAAC;oBAC3B,UAAU;oBACV,QAAQ;oBACR,OAAO;gBACT;YACF;QACF;IACF,GAAG;QAAC;KAAa;IAEjB,MAAM,cAAc,CAAC;QACnB,cAAc;QACd,UAAU,EAAE,KAAK,GAAG,UAAU,OAAO,CAAC,UAAU;QAChD,cAAc,UAAU,OAAO,CAAC,UAAU;QAC1C,SAAS;IACX;IAEA,MAAM,eAAe;QACnB,cAAc;IAChB;IAEA,MAAM,YAAY,CAAC;QACjB,cAAc;IAChB;IAEA,MAAM,cAAc,CAAC;QACnB,IAAI,CAAC,YAAY;QACjB,EAAE,cAAc;QAChB,MAAM,IAAI,EAAE,KAAK,GAAG,UAAU,OAAO,CAAC,UAAU;QAChD,MAAM,OAAO,CAAC,IAAI,MAAM,IAAI,GAAG,YAAY;QAC3C,IAAI,KAAK,GAAG,CAAC,QAAQ,GAAG,SAAS;QACjC,UAAU,OAAO,CAAC,UAAU,GAAG,aAAa;IAC9C;IAEA,MAAM,kBAAkB,CAAC;QACvB,8BAA8B;QAC9B,IAAI,CAAC,OAAO;YACV,SAAS;QACX;IACF;IAEA,MAAM,iBAAiB,kBACrB;;8BACE,8OAAC;oBAAI,WAAU;8BAAO,cAAA,8OAAC,4IAAW;wBAAC,OAAM;wBAAO,QAAO;;;;;;;;;;;8BACvD,8OAAC;oBAAI,WAAU;8BAAO,cAAA,8OAAC,4IAAW;wBAAC,OAAM;wBAAO,QAAO;;;;;;;;;;;8BACvD,8OAAC;oBAAI,WAAU;8BAAO,cAAA,8OAAC,4IAAW;wBAAC,OAAM;wBAAO,QAAO;;;;;;;;;;;8BACvD,8OAAC;oBAAI,WAAU;8BAAO,cAAA,8OAAC,4IAAW;wBAAC,OAAM;wBAAO,QAAO;;;;;;;;;;;8BACvD,8OAAC;oBAAI,WAAU;8BAAO,cAAA,8OAAC,4IAAW;wBAAC,OAAM;wBAAO,QAAO;;;;;;;;;;;;;IAI3D,qBACE,8OAAC;QACC,WAAW,CAAC,SAAS,EAAE,UAAU,CAAC,EAAE,aAAa,aAAa,IAAI,CAAC,IAAI;QACvE,KAAK;QACL,aAAa;QACb,cAAc;QACd,WAAW;QACX,aAAa;QACb,OAAO;YAAE,QAAQ,aAAa,aAAa;QAAO;kBAEjD,WAAW,WAAW,MAAM,KAAK,IAC9B,mBACA,WAAW,GAAG,CAAC,CAAC,qBACd,8OAAC;gBAEC,WAAW,CAAC,KAAK,EAAE,iBAAiB,OAAO,WAAW,IAAI;gBAC1D,SAAS,IAAM,gBAAgB;0BAE9B;eAJI;;;;;;;;;;AASnB;uCAEe"}},
    {"offset": {"line": 574, "column": 0}, "map": {"version":3,"sources":["file:///Users/kangmin/Desktop/project/hongyeonju/src/components/PageHeader.js"],"sourcesContent":["import React from 'react';\nimport './PageHeader.css';\nimport { useAppData } from '../context/AppDataContext';\nimport menuIcon from '../assets/icons/menu-icon.svg';\n\nconst PageHeader = ({ title }) => {\n  const { toggleMenu } = useAppData();\n\n  return (\n    <header className=\"page-header\">\n      <h1 className=\"page-header-title\">{title}</h1>\n      <div className=\"page-header-menu-icon\" onClick={toggleMenu}>\n        <img src={menuIcon.src || menuIcon} alt=\"Menu\" className=\"menu-icon-img\" />\n      </div>\n    </header>\n  );\n};\n\nexport default PageHeader;\n"],"names":[],"mappings":";;;;;AAAA;AAEA;;;;;;;;;;;AAGA,MAAM,aAAa,CAAC,EAAE,KAAK,EAAE;IAC3B,MAAM,EAAE,UAAU,EAAE,GAAG,IAAA,8IAAU;IAEjC,qBACE,8OAAC;QAAO,WAAU;;0BAChB,8OAAC;gBAAG,WAAU;0BAAqB;;;;;;0BACnC,8OAAC;gBAAI,WAAU;gBAAwB,SAAS;0BAC9C,cAAA,8OAAC;oBAAI,KAAK,SAAS,GAAG,IAAI;oBAAU,KAAI;oBAAO,WAAU;;;;;;;;;;;;;;;;;AAIjE;uCAEe"}},
    {"offset": {"line": 633, "column": 0}, "map": {"version":3,"sources":["file:///Users/kangmin/Desktop/project/hongyeonju/src/app/exhibition/page.js"],"sourcesContent":["'use client';\n\nimport React, { useState, useEffect, Suspense } from 'react';\nimport './page.css';\nimport { useRouter, useSearchParams } from 'next/navigation';\nimport { useAppData } from '../../context/AppDataContext';\nimport { SkeletonExhibitionItem } from '../../components/Skeleton';\nimport MediaDisplay from '../../components/MediaDisplay';\nimport YearNav from '../../components/YearNav';\nimport PageHeader from '../../components/PageHeader';\n\nconst ExhibitionsContent = () => {\n  const router = useRouter();\n  const searchParams = useSearchParams();\n  const { exhibitions, fetchAllData } = useAppData();\n\n  // exhibitions 데이터가 없으면 fetchAllData 호출\n  useEffect(() => {\n    if (!exhibitions) {\n      fetchAllData();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [exhibitions, fetchAllData]);\n\n  const urlYear = searchParams.get('year');\n\n  const [windowWidth, setWindowWidth] = useState(0);\n\n  useEffect(() => {\n    setWindowWidth(window.innerWidth);\n    const handleResize = () => setWindowWidth(window.innerWidth);\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n\n  const getNumColumns = () => {\n    if (windowWidth === 0) return 3;\n    if (windowWidth < 768) return 1;\n    if (windowWidth < 1080) return 2;\n    return 3;\n  };\n\n  const numColumns = getNumColumns();\n  const safeExhibitions = Array.isArray(exhibitions) ? exhibitions : [];\n  \n  const wholeYears = [...new Set(safeExhibitions.map(exhibition => exhibition.year))]\n   .sort((a, b) => b - a);\n  \n  // URL에서 연도를 가져오거나, 없으면 최신 연도를 사용합니다. (상태 비저장형)\n  const selectedYear = urlYear || wholeYears[0] || '2025';\n\n  const handleYearClick = (year) => {\n    // URL을 변경하면 컴포넌트가 자연스럽게 re-render 됩니다.\n    // preventScrollReset: true를 사용하여 스크롤 위치 변화를 최소화합니다.\n    router.replace(`/exhibition?year=${year}`, { scroll: false });\n  };\n\n  const filteredExhibitions = safeExhibitions.filter(exhibition => exhibition.year === selectedYear);\n\n  // 데이터를 열 개수에 맞춰 분배\n  const columns = Array.from({ length: numColumns }, () => []);\n  filteredExhibitions.forEach((exhibition, index) => {\n    columns[index % numColumns].push(exhibition);\n  });\n\n  const handleExhibitionClick = (exhibition) => {\n    router.push(`/exhibition/${exhibition.id}`); // 전시 세부페이지로 이동\n  };\n  \n\n  return (\n    <div className=\"exhibitions-container\">\n      <PageHeader title=\"EXHIBITION\" />\n\n      <YearNav\n        years={wholeYears}\n        selectedYear={selectedYear}\n        onSelect={handleYearClick}\n        loading={!exhibitions}\n      />\n\n      <div className=\"exhibitions-list\">\n        {!exhibitions ? (\n          // 로딩 중일 때도 열 구조를 맞춰서 스켈레톤 표시 (3개 행으로 늘림)\n          Array.from({ length: numColumns }).map((_, colIdx) => (\n            <div key={colIdx} className=\"exhibitions-column\">\n              <SkeletonExhibitionItem />\n              <SkeletonExhibitionItem />\n              <SkeletonExhibitionItem />\n            </div>\n          ))\n        ) : (\n          columns.map((column, colIdx) => (\n            <div key={colIdx} className=\"exhibitions-column\">\n              {column.map((exhibition) => (\n                <div\n                  className=\"exhibition-item\"\n                  key={exhibition.id}\n                  onClick={() => handleExhibitionClick(exhibition)}\n                >\n                  <MediaDisplay src={exhibition.link} alt={exhibition.exhibitionTitle} className=\"exhibition-image\" autoplay={true} />\n                  <div className=\"exhibition-info\">\n                    <div className=\"exhibition-title\">{exhibition.exhibitionTitle}</div>\n                    <div className=\"exhibition-date\">{exhibition.date}</div>\n                    <div className=\"exhibition-location\">{exhibition.location}</div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          ))\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default function ExhibitionsPage() {\n  return (\n    <Suspense fallback={<div className=\"exhibitions-container\"><PageHeader title=\"EXHIBITION\" /><div className=\"exhibitions-list\"><SkeletonExhibitionItem /></div></div>}>\n      <ExhibitionsContent />\n    </Suspense>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}
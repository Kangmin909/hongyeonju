{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["file:///Users/kangmin/Desktop/project/hongyeonju/src/pages/api/getAbout.js"],"sourcesContent":["import { Client } from \"@notionhq/client\";\n\nconst notion = new Client({ auth: process.env.NOTION_TOKEN });\n\nexport default async function handler(req, res) {\n  try {\n    const databaseId = process.env.NOTION_ABOUT_DB_ID;\n\n    const response = await notion.databases.query({\n      database_id: databaseId,\n      sorts: [\n        {\n          property: \"id\",\n          direction: \"ascending\",\n        },\n      ],\n      page_size: 1, // ✅ 하나만 가져오기\n    });\n\n    const page = response.results[0];\n\n    if (!page) {\n      return res.status(404).json({ error: \"No about data found\" });\n    }\n\n    const rawText = page.properties.aboutText.rich_text[0]?.plain_text || \"\";\n\n    const aboutText = rawText\n      .split(\"\\n\")\n      .map(t => t.trim())\n      .filter(Boolean);\n\n    const data = {\n      id: page.properties.id.title[0]?.plain_text || \"\",\n      mail: page.properties.mail.rich_text[0]?.plain_text || \"\",\n      instagram: page.properties.instagram.rich_text[0]?.plain_text || \"\",\n      aboutText,\n    };\n\n    res.status(200).json(data);\n  } catch (err) {\n    console.error(err);\n    res.status(500).json({ error: \"Failed to load about media\" });\n  }\n}\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,SAAS,IAAI,sMAAM,CAAC;IAAE,MAAM,QAAQ,GAAG,CAAC,YAAY;AAAC;AAE5C,eAAe,QAAQ,GAAG,EAAE,GAAG;IAC5C,IAAI;QACF,MAAM,aAAa,QAAQ,GAAG,CAAC,kBAAkB;QAEjD,MAAM,WAAW,MAAM,OAAO,SAAS,CAAC,KAAK,CAAC;YAC5C,aAAa;YACb,OAAO;gBACL;oBACE,UAAU;oBACV,WAAW;gBACb;aACD;YACD,WAAW;QACb;QAEA,MAAM,OAAO,SAAS,OAAO,CAAC,EAAE;QAEhC,IAAI,CAAC,MAAM;YACT,OAAO,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;gBAAE,OAAO;YAAsB;QAC7D;QAEA,MAAM,UAAU,KAAK,UAAU,CAAC,SAAS,CAAC,SAAS,CAAC,EAAE,EAAE,cAAc;QAEtE,MAAM,YAAY,QACf,KAAK,CAAC,MACN,GAAG,CAAC,CAAA,IAAK,EAAE,IAAI,IACf,MAAM,CAAC;QAEV,MAAM,OAAO;YACX,IAAI,KAAK,UAAU,CAAC,EAAE,CAAC,KAAK,CAAC,EAAE,EAAE,cAAc;YAC/C,MAAM,KAAK,UAAU,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE,EAAE,cAAc;YACvD,WAAW,KAAK,UAAU,CAAC,SAAS,CAAC,SAAS,CAAC,EAAE,EAAE,cAAc;YACjE;QACF;QAEA,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;IACvB,EAAE,OAAO,KAAK;QACZ,QAAQ,KAAK,CAAC;QACd,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;YAAE,OAAO;QAA6B;IAC7D;AACF"}}]
}
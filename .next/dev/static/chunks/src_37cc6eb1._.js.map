{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/kangmin/Desktop/project/hongyeonju/src/context/AppDataContext.js"],"sourcesContent":["'use client';\n\nimport React, { createContext, useContext, useState, useCallback, useRef, useEffect } from 'react';\n\n\n/**\n * Global variable for non-React access to app data.\n * Useful for legacy scripts or outside of React tree.\n */\nexport const appDataStore = {\n  home: null,\n  about: null,\n  cv1: null,\n  cv2: null,\n  exhibitions: null,\n  works: null,\n  loading: false,\n  error: null,\n};\n\nconst CACHE_DURATION = 30 * 60 * 1000; // 30 minutes\n\n// Create Context\nconst AppDataContext = createContext();\n\n/**\n * Preload media (images) from the fetched data to improve UX.\n * @param {Object} appData - The fetched application data.\n */\nconst preloadMedia = (appData) => {\n  const urls = [];\n  \n  // 1. Home Image\n  if (appData.home?.link) urls.push(appData.home.link);\n  \n  // 2. Exhibition Images\n  if (Array.isArray(appData.exhibitions)) {\n    appData.exhibitions.forEach(ex => {\n      if (ex.link) urls.push(ex.link);\n      if (Array.isArray(ex.images)) {\n        ex.images.forEach(img => {\n          if (img.link) urls.push(img.link);\n        });\n      }\n    });\n  }\n  \n  // 3. Works Images\n  if (Array.isArray(appData.works)) {\n    appData.works.forEach(work => {\n      if (work.link) urls.push(work.link);\n    });\n  }\n\n  // Deduplicate and preload\n  const uniqueUrls = [...new Set(urls)];\n  uniqueUrls.forEach(url => {\n    // Basic check: preload only if it looks like an image or not explicitly mp4\n    const isImage = /\\.(jpg|jpeg|png|webp|gif|svg)$/i.test(url) || !url.includes('.mp4');\n    \n    if (isImage) {\n      const img = new Image();\n      img.src = url;\n    }\n  });\n};\n\n/**\n * AppDataProvider Component\n * Manages global application state, data fetching, and caching.\n */\nexport const AppDataProvider = ({ children }) => {\n  \n  const defaultData = {\n    home: null,\n    about: null,\n    cv1: null,\n    cv2: null,\n    exhibitions: null,\n    works: null,\n    loading: false,\n    error: null,\n  };\n\n  const [data, setData] = useState(defaultData);\n  const [isMenuOpen, setIsMenuOpen] = useState(false);\n  const isLoading = useRef(false);\n\n  // Initialize state from local storage cache if valid (Client-side only)\n  useEffect(() => {\n    try {\n      const cachedData = localStorage.getItem('appData');\n      const cachedTimestamp = localStorage.getItem('appDataTimestamp');\n\n      if (cachedData && cachedTimestamp) {\n        const isCacheValid = (Date.now() - parseInt(cachedTimestamp, 10)) < CACHE_DURATION;\n        if (isCacheValid) {\n          const parsedData = JSON.parse(cachedData);\n          const loadedState = { ...parsedData, loading: false };\n          setData(loadedState);\n          Object.assign(appDataStore, loadedState);\n          preloadMedia(loadedState);\n        }\n      }\n    } catch (error) {\n      console.error(\"Failed to load cached data:\", error);\n    }\n  }, []);\n\n  const toggleMenu = useCallback(() => {\n    setIsMenuOpen(prev => !prev);\n  }, []);\n\n  /**\n   * Fetches all required data from the API.\n   * @param {boolean} force - If true, ignores cache and forces a fetch.\n   */\n  const fetchAllData = useCallback(async (force = false) => {\n    if (isLoading.current) return;\n    \n    // Check cache validity unless forced\n    if (!force) {\n      const cachedTimestamp = localStorage.getItem('appDataTimestamp');\n      if (cachedTimestamp && (Date.now() - parseInt(cachedTimestamp, 10)) < CACHE_DURATION) {\n        // If critical data exists, skip fetch\n        if (data.home && data.exhibitions) return; \n      }\n    }\n    \n    isLoading.current = true;\n    setData(prev => ({ ...prev, loading: true }));\n\n    try {\n      console.log(\"ðŸ”„ Fetching fresh data from server...\");\n      const [homeRes, aboutRes, cv1Res, cv2Res, exhibitionsRes, worksRes] = await Promise.all([\n        fetch(\"/api/getHome\").then(res => res.json()),\n        fetch(\"/api/getAbout\").then(res => res.json()),\n        fetch(\"/api/getCV1\").then(res => res.json()),\n        fetch(\"/api/getCV2\").then(res => res.json()),\n        fetch(\"/api/getExhibition\").then(res => res.json()),\n        fetch(\"/api/getWorks\").then(res => res.json()),\n      ]);\n\n      const newData = {\n        home: homeRes,\n        about: aboutRes,\n        cv1: cv1Res,\n        cv2: cv2Res,\n        exhibitions: exhibitionsRes,\n        works: worksRes,\n      };\n\n      // Update cache\n      localStorage.setItem('appData', JSON.stringify(newData));\n      localStorage.setItem('appDataTimestamp', Date.now().toString());\n\n      const finalState = { ...newData, loading: false, error: null };\n      setData(finalState);\n      Object.assign(appDataStore, finalState); // Update global store\n\n      // Preload media after fetch\n      preloadMedia(newData);\n\n    } catch (error) {\n      console.error('Failed to fetch app data:', error);\n      const errorState = { loading: false, error: error.message };\n      setData(prev => ({ ...prev, ...errorState }));\n      Object.assign(appDataStore, { ...data, ...errorState });\n    } finally {\n      isLoading.current = false;\n    }\n  }, [data]);\n\n  const refreshData = useCallback(() => {\n    return fetchAllData(true);\n  }, [fetchAllData]);\n\n  // Effect: Preload media if data is already available (e.g. from cache)\n  useEffect(() => {\n    if (data.home || data.exhibitions) {\n      preloadMedia(data);\n    }\n  }, [data]);\n\n  const value = {\n    ...data,\n    isMenuOpen,\n    toggleMenu,\n    fetchAllData,\n    refreshData,\n  };\n\n  return (\n    <AppDataContext.Provider value={value}>\n      {children}\n    </AppDataContext.Provider>\n  );\n};\n\n// Hook for using context\nexport const useAppData = () => {\n  const context = useContext(AppDataContext);\n  if (!context) {\n    throw new Error('useAppData must be used within AppDataProvider');\n  }\n  return context;\n};\n\n// Access global store\nexport const getAppData = () => appDataStore;"],"names":[],"mappings":"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"}},
    {"offset": {"line": 328, "column": 0}, "map": {"version":3,"sources":["file:///Users/kangmin/Desktop/project/hongyeonju/src/components/ScrollToTop.js"],"sourcesContent":["'use client';\n\nimport { useEffect, useLayoutEffect, useRef, useState } from 'react';\nimport { usePathname, useSearchParams } from 'next/navigation';\n\n// Shim for useNavigationType\nconst useNavigationType = () => {\n  const [type, setType] = useState('PUSH');\n  \n  useEffect(() => {\n    const handlePopState = () => setType('POP');\n    const handlePushState = () => setType('PUSH'); // Next.js doesn't emit this natively for Link\n    // This is an imperfect shim. Ideally we'd wrap the router or use a library.\n    // For now, we rely on popstate.\n    window.addEventListener('popstate', handlePopState);\n    return () => window.removeEventListener('popstate', handlePopState);\n  }, []);\n  \n  return type;\n}\n\n/**\n * íŽ˜ì´ì§€ ì´ë™ ì‹œ ìŠ¤í¬ë¡¤ ìœ„ì¹˜ë¥¼ ê³ ë„ë¡œ ì •ë°€í•˜ê²Œ ê´€ë¦¬í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ìž…ë‹ˆë‹¤.\n */\nconst ScrollToTop = () => {\n  const pathname = usePathname();\n  const searchParams = useSearchParams();\n  // Combine to mimic location object partially\n  const location = { pathname, key: pathname + searchParams.toString() }; \n  \n  const navType = useNavigationType();\n\n  \n  const isInitialAppLoad = useRef(true);\n  const isRestoring = useRef(false);\n  const lastCapturedY = useRef(0);\n  const prevPathnameRef = useRef(location.pathname);\n  const prevKeyRef = useRef(location.key);\n  const restorationCleanupRef = useRef(null);\n\n  // 1. ì „ì—­ ì„¤ì •\n  useEffect(() => {\n    if ('scrollRestoration' in window.history) {\n      window.history.scrollRestoration = 'manual';\n    }\n    window.scrollTo(0, 0); \n  }, []);\n\n  // 2. ì‹¤ì‹œê°„ ìŠ¤í¬ë¡¤ ì¶”ì  (0 í¬í•¨ ëª¨ë“  ìœ„ì¹˜ ì €ìž¥)\n  useEffect(() => {\n    const handleScroll = () => {\n      if (!isRestoring.current) {\n        lastCapturedY.current = window.scrollY;\n      }\n    };\n    window.addEventListener('scroll', handleScroll, { passive: true });\n    return () => window.removeEventListener('scroll', handleScroll);\n  }, []);\n\n  // 3. íŽ˜ì´ì§€ ì „í™˜ ë¡œì§\n  useLayoutEffect(() => {\n    if (restorationCleanupRef.current) {\n      restorationCleanupRef.current();\n      restorationCleanupRef.current = null;\n    }\n\n    const isSamePage = prevPathnameRef.current === location.pathname;\n    const cacheKey = `scroll_${location.key}`;\n\n    // íŽ˜ì´ì§€ ì´íƒˆ ì „ í˜„ìž¬ ìœ„ì¹˜ ì €ìž¥\n    if (!isInitialAppLoad.current) {\n       try {\n         sessionStorage.setItem(`scroll_${prevKeyRef.current}`, lastCapturedY.current.toString());\n       } catch (e) {}\n    }\n\n    if (navType === 'POP' && !isInitialAppLoad.current) {\n      // CASE 1: ë’¤ë¡œê°€ê¸° ë³µì›\n      const savedPos = sessionStorage.getItem(cacheKey);\n      const restoreY = savedPos ? parseInt(savedPos, 10) : 0;\n\n      if (restoreY > 0) {\n        isRestoring.current = true;\n        const htmlStyle = document.documentElement.style;\n        const originalMinHeight = htmlStyle.minHeight;\n        htmlStyle.minHeight = (restoreY + window.innerHeight + 500) + 'px';\n\n        const perform = () => {\n          if (isRestoring.current) window.scrollTo({ top: restoreY, behavior: 'instant' });\n        };\n\n        perform();\n        const interval = setInterval(perform, 16);\n        const observer = new ResizeObserver(perform);\n        observer.observe(document.body);\n\n        const stop = () => {\n          if (!isRestoring.current) return;\n          isRestoring.current = false;\n          clearInterval(interval);\n          observer.disconnect();\n          htmlStyle.minHeight = originalMinHeight;\n          lastCapturedY.current = window.scrollY; // ì‹¤ì œ ì•ˆì°©í•œ ìœ„ì¹˜ ìº¡ì²˜\n        };\n\n        window.addEventListener('wheel', stop, { passive: true });\n        window.addEventListener('touchstart', stop, { passive: true });\n        const timer = setTimeout(stop, 2500);\n\n        restorationCleanupRef.current = () => { clearTimeout(timer); stop(); };\n      }\n    } else if (isSamePage && !isInitialAppLoad.current) {\n      // CASE 2: ë™ì¼ íŽ˜ì´ì§€ ì´ë™ (ì—°ë„ ë³€ê²½)\n      const targetY = lastCapturedY.current;\n      \n      // ì´ë¯¸ ìƒë‹¨ì— ê°€ê¹ë‹¤ë©´ ê³ ì •í•˜ì§€ ì•Šê³  ìžì—°ìŠ¤ëŸ½ê²Œ ì´ë™í•˜ë„ë¡ ë‘ \n      if (targetY > 10) {\n        isRestoring.current = true;\n        const htmlStyle = document.documentElement.style;\n        const originalMinHeight = htmlStyle.minHeight;\n        \n        htmlStyle.minHeight = (targetY + window.innerHeight) + 'px';\n\n        const pin = () => {\n          if (isRestoring.current) window.scrollTo({ top: targetY, behavior: 'instant' });\n        };\n\n        pin();\n        const interval = setInterval(pin, 16);\n        const observer = new ResizeObserver(pin);\n        observer.observe(document.body);\n\n        const stop = () => {\n          if (!isRestoring.current) return;\n          isRestoring.current = false;\n          clearInterval(interval);\n          observer.disconnect();\n          htmlStyle.minHeight = originalMinHeight;\n          // [ì¤‘ìš”] ì—°ë„ ë³€ê²½ í›„ ì½˜í…ì¸ ê°€ ì§§ì•„ ìœ„ë¡œ ë”¸ë ¤ ì˜¬ë¼ê°”ë‹¤ë©´ ê·¸ ìœ„ì¹˜(ì˜ˆ: 0)ë¥¼ ìƒˆë¡œìš´ 'ê¸°ì–µ'ìœ¼ë¡œ ì €ìž¥\n          lastCapturedY.current = window.scrollY;\n        };\n\n        // ì—°ë„ ë³€ê²½ì€ ë¹„êµì  ë¹ ë¥´ë¯€ë¡œ 0.4ì´ˆê°„ë§Œ ê°•ì œ ê³ ì •\n        const timer = setTimeout(stop, 400);\n\n        restorationCleanupRef.current = () => { clearTimeout(timer); stop(); };\n      }\n    } else {\n      // CASE 3: ì‹ ê·œ íŽ˜ì´ì§€ ì§„ìž…\n      window.scrollTo(0, 0);\n      lastCapturedY.current = 0;\n    }\n\n    isInitialAppLoad.current = false;\n    prevPathnameRef.current = location.pathname;\n    prevKeyRef.current = location.key;\n\n    return () => {\n      if (restorationCleanupRef.current) {\n        restorationCleanupRef.current();\n        restorationCleanupRef.current = null;\n      }\n    };\n  }, [location, navType]);\n\n  return null;\n};\n\nexport default ScrollToTop;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 563, "column": 0}, "map": {"version":3,"sources":["file:///Users/kangmin/Desktop/project/hongyeonju/src/assets/icons/back-arrow.png.mjs%20%28structured%20image%20object%20with%20data%20url%29"],"sourcesContent":["import src from \"IMAGE\";\nexport default { src, width: 44, height: 20, blurWidth: 8, blurHeight: 4, blurDataURL: \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAECAYAAACzzX7wAAAAL0lEQVR42oXNOQ0AIBQE0TFAhRQQgwEE4L9hBPxjk9dtMgBDR5NkT1dbK9AfysQHV4AFA3GR014AAAAASUVORK5CYII=\"};\n"],"names":[],"mappings":";;;;;AAAA;;;uCACe;IAAE,KAAA,4JAAG;IAAE,OAAO;IAAI,QAAQ;IAAI,WAAW;IAAG,YAAY;IAAG,aAAa;AAAoK"}},
    {"offset": {"line": 586, "column": 0}, "map": {"version":3,"sources":["file:///Users/kangmin/Desktop/project/hongyeonju/src/components/Menu.js"],"sourcesContent":["'use client';\n\nimport React from 'react';\nimport { useRouter, usePathname, useSearchParams } from 'next/navigation';\nimport { useAppData } from '../context/AppDataContext';\nimport './Menu.css';\n\n// í™”ì‚´í‘œ ì´ë¯¸ì§€ë¥¼ importí•©ë‹ˆë‹¤.\nimport arrowIcon from '../assets/icons/back-arrow.png';\n\nconst Menu = () => {\n\n  const router = useRouter();\n  const pathname = usePathname();\n  const searchParams = useSearchParams();\n  const location = { pathname }; \n\n  const { isMenuOpen, toggleMenu, refreshData, loading } = useAppData();\n\n  const [isClosing, setIsClosing] = React.useState(false); \n  const [openingImmediate, setOpeningImmediate] = React.useState(false); \n\n  const isPopStateRef = React.useRef(false);\n  const isNavigatingRef = React.useRef(false);\n\n  // ë©”ë‰´ ë‹«ê¸° í•¨ìˆ˜\n  const handleClose = React.useCallback((immediate = false) => {\n    if (immediate || isPopStateRef.current) {\n      if (isMenuOpen) toggleMenu();\n      setIsClosing(false);\n      setOpeningImmediate(false);\n      return;\n    }\n\n    setIsClosing(true);\n    setTimeout(() => {\n      if (isMenuOpen) toggleMenu();\n      setIsClosing(false);\n    }, 300);\n  }, [isMenuOpen, toggleMenu]);\n\n  // Effect: ê²½ë¡œ ë³€ê²½ ì‹œ ë©”ë‰´ ë‹«ê¸° (ë„¤ë¹„ê²Œì´ì…˜ ì™„ë£Œ í›„ ë™ìž‘)\n  React.useEffect(() => {\n    if (isMenuOpen) {\n      handleClose();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [pathname, searchParams]);\n\n  // Effect 1: ížˆìŠ¤í† ë¦¬ ê°ì§€ (íŒìŠ¤í…Œì´íŠ¸ ë¦¬ìŠ¤ë„ˆ)\n  React.useEffect(() => {\n    const handlePopState = (e) => {\n      isPopStateRef.current = true;\n      const isMenuState = e.state?.modal === 'menu';\n      \n      if (isMenuState && !isMenuOpen) {\n        setOpeningImmediate(true);\n        toggleMenu();\n      } else if (!isMenuState && isMenuOpen) {\n        handleClose(true);\n      }\n      \n      setTimeout(() => { isPopStateRef.current = false; }, 100);\n    };\n\n    window.addEventListener('popstate', handlePopState);\n    return () => {\n      window.removeEventListener('popstate', handlePopState);\n    };\n  }, [isMenuOpen, toggleMenu, handleClose]);\n\n  // Effect 1.5: ì´ˆê¸° ë¡œë“œ ì‹œ ë³µì› (ë§ˆìš´íŠ¸ ì‹œ 1íšŒë§Œ ì‹¤í–‰)\n  React.useEffect(() => {\n    if (window.history.state?.modal === 'menu' && !isMenuOpen) {\n      setOpeningImmediate(true);\n      toggleMenu();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  // Effect 2: ë©”ë‰´ ìƒíƒœì— ë”°ë¥¸ ë¶€ê°€ íš¨ê³¼\n  React.useEffect(() => {\n    if (!isMenuOpen) return;\n\n    const scrollY = window.scrollY;\n    document.body.style.position = 'fixed';\n    document.body.style.top = `-${scrollY}px`;\n    document.body.style.width = '100%';\n\n    if (window.history.state?.modal !== 'menu') {\n      window.history.pushState({ modal: 'menu' }, '');\n    }\n    \n    const handleKeyDown = (e) => {\n      if (e.key === 'Escape' && isMenuOpen) {\n        window.history.back();\n      }\n    };\n    window.addEventListener('keydown', handleKeyDown);\n\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown);\n      \n      if (isMenuOpen) {\n        const savedScrollY = document.body.style.top;\n        document.body.style.position = '';\n        document.body.style.top = '';\n        document.body.style.width = '';\n        if (savedScrollY) window.scrollTo(0, parseInt(savedScrollY) * -1);\n      }\n      isNavigatingRef.current = false;\n    };\n  }, [isMenuOpen, toggleMenu]);\n\n  const handleRefresh = async () => {\n    await refreshData();\n  };\n\n  const handleNavigate = (path) => {\n    if (location.pathname === path) {\n      window.history.back();\n    } else {\n      isNavigatingRef.current = true; \n      router.replace(path);\n      // toggleMenu(); // <-- Removed: Let useEffect handle closing on route change\n    }\n  };\n\n  if (!isMenuOpen) return null;\n\n    return (\n      <div \n        className={`menu-container ${isClosing ? 'is-closing' : ''} ${openingImmediate ? 'no-animation' : ''}`}\n      >\n        <div className=\"back-arrow\" onClick={() => window.history.back()}>\n        {/* Next.js Image import handling */}\n        <img src={arrowIcon.src || arrowIcon} alt=\"Back Arrow\" className=\"arrow-icon\" />\n      </div>\n\n      <div className=\"menu-items\">\n        <button className=\"menu-button\" onClick={() => handleNavigate('/')}>HOME</button>\n        <button className=\"menu-button\" onClick={() => handleNavigate('/works')}>WORKS</button>\n        <button className=\"menu-button\" onClick={() => handleNavigate('/exhibition')}>EXHIBITION</button>\n        <button className=\"menu-button\" onClick={() => handleNavigate('/cv')}>CV</button>\n        <button className=\"menu-button\" onClick={() => handleNavigate('/about')}>ABOUT</button>\n      </div>\n\n      <button \n        className=\"refresh-button\" \n        onClick={handleRefresh}\n        disabled={loading}\n      >\n        {loading ? 'REFRESHING...' : 'REFRESH'}\n      </button>\n    </div>\n  );\n};\n\nexport default Menu;"],"names":[],"mappings":"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"}},
    {"offset": {"line": 894, "column": 0}, "map": {"version":3,"sources":["file:///Users/kangmin/Desktop/project/hongyeonju/src/app/ClientLayout.js"],"sourcesContent":["'use client';\n\nimport { Suspense } from 'react';\nimport { AppDataProvider } from '../context/AppDataContext';\nimport ScrollToTop from '../components/ScrollToTop';\nimport Menu from '../components/Menu';\n\nexport default function ClientLayout({ children }) {\n  return (\n    <AppDataProvider>\n      <Suspense fallback={null}>\n        <ScrollToTop />\n      </Suspense>\n      <Suspense fallback={null}>\n        <Menu />\n      </Suspense>\n      {/* #root replacement from index.css logic, applied here to wrap pages */}\n      <div id=\"root\">\n        {children}\n      </div>\n    </AppDataProvider>\n  );\n}\n"],"names":[],"mappings":";;;;;;AAEA;AACA;AACA;AACA;AALA;;;;;;;AAOe,SAAS,aAAa,KAAY;QAAZ,AAAE,WAAF,MAAE;IACrC,qBACE,6LAAC,sJAAe;;0BACd,6LAAC,yKAAQ;gBAAC,UAAU;0BAClB,cAAA,6LAAC,8IAAW;;;;;;;;;;0BAEd,6LAAC,yKAAQ;gBAAC,UAAU;0BAClB,cAAA,6LAAC,uIAAI;;;;;;;;;;0BAGP,6LAAC;gBAAI,IAAG;0BACL;;;;;;;;;;;;AAIT;KAfwB"}}]
}
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,9609,20786,92808,e=>{"use strict";function t(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},o=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),o.forEach(function(t){var o;o=r[t],t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o})}return e}function r(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r.push.apply(r,o)}return r})(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e}e.s(["_",()=>t],20786),e.s(["_",()=>r],92808);var o=e.i(43476),n=e.i(71645);let a={home:null,about:null,cv1:null,cv2:null,exhibitions:null,works:null,loading:!1,error:null},i=(0,n.createContext)(),l=e=>{var t;let r=[];(null==(t=e.home)?void 0:t.link)&&r.push(e.home.link),Array.isArray(e.exhibitions)&&e.exhibitions.forEach(e=>{e.link&&r.push(e.link),Array.isArray(e.images)&&e.images.forEach(e=>{e.link&&r.push(e.link)})}),Array.isArray(e.works)&&e.works.forEach(e=>{e.link&&r.push(e.link)}),[...new Set(r)].forEach(e=>{(/\.(jpg|jpeg|png|webp|gif|svg)$/i.test(e)||!e.includes(".mp4"))&&(new Image().src=e)})};e.s(["AppDataProvider",0,e=>{let{children:s}=e,[c,u]=(0,n.useState)({home:null,about:null,cv1:null,cv2:null,exhibitions:null,works:null,loading:!1,error:null}),[d,p]=(0,n.useState)(!1),[h,m]=(0,n.useState)(!1),b=(0,n.useRef)(!1);(0,n.useEffect)(()=>{try{let e=localStorage.getItem("appData"),o=localStorage.getItem("appDataTimestamp");if(e&&o&&Date.now()-parseInt(o,10)<36e5){let o=JSON.parse(e),n=r(t({},o),{loading:!1});u(n),Object.assign(a,n),l(n)}}catch(e){console.error("Failed to load cached data:",e)}},[]);let f=(0,n.useCallback)(()=>{p(e=>!e)},[]),w=(0,n.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!b.current){if(!e){let e=localStorage.getItem("appDataTimestamp");if(e&&Date.now()-parseInt(e,10)<36e5&&c.home&&c.exhibitions)return}b.current=!0,u(e=>r(t({},e),{loading:!0})),e&&m(!0);try{console.log(e?"ðŸ”„ Forcing fresh data fetch...":"ðŸ”„ Fetching fresh data from server...");let o=async t=>{try{let r=e?"".concat(t,"?force=true&t=").concat(Date.now()):t,o=await fetch(r).catch(e=>(console.error("Network error for ".concat(t,":"),e),null));if(!o||!o.ok)return null;return await o.json()}catch(e){return console.error("Error for ".concat(t,":"),e),null}},[n,i,s,c,d,p]=await Promise.all([o("/api/getHome"),o("/api/getAbout"),o("/api/getCV1"),o("/api/getCV2"),o("/api/getExhibition"),o("/api/getWorks")]),h={home:n,about:i,cv1:s,cv2:c,exhibitions:d,works:p};localStorage.setItem("appData",JSON.stringify(h)),localStorage.setItem("appDataTimestamp",Date.now().toString());let m=r(t({},h),{loading:!1,error:null});u(m),Object.assign(a,m),l(h)}catch(r){console.error("Failed to fetch app data:",r);let e={loading:!1,error:r.message};u(r=>t({},r,e)),Object.assign(a,t({},c,e))}finally{b.current=!1,m(!1)}}},[c]),y=(0,n.useCallback)(()=>w(!0),[w]);(0,n.useEffect)(()=>{(c.home||c.exhibitions)&&l(c)},[c]);let g=r(t({},c),{isMenuOpen:d,isRefreshing:h,toggleMenu:f,fetchAllData:w,refreshData:y});return(0,o.jsx)(i.Provider,{value:g,children:s})},"useAppData",0,()=>{let e=(0,n.useContext)(i);if(!e)throw Error("useAppData must be used within AppDataProvider");return e}],9609)},18566,(e,t,r)=>{t.exports=e.r(76562)},22046,e=>{e.v("/_next/static/media/back-arrow.e8763aae.svg")},61331,e=>{"use strict";var t=e.i(43476),r=e.i(71645),o=e.i(9609),n=e.i(20786),a=e.i(92808),i=e.i(18566);let l={src:e.i(22046).default,width:44,height:42,blurWidth:0,blurHeight:0},s=()=>{let e=(0,i.useRouter)(),s=(0,i.usePathname)(),c=(0,i.useSearchParams)(),{isMenuOpen:u,isRefreshing:d,toggleMenu:p,refreshData:h}=(0,o.useAppData)(),[m,b]=r.default.useState(!1),[f,w]=r.default.useState(!1),y=r.default.useRef(!1),g=r.default.useRef(!1),v=r.default.useCallback(function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e||y.current||g.current){u&&p(),b(!1),w(!1);return}b(!0),setTimeout(()=>{u&&p(),b(!1)},300)},[u,p]);r.default.useEffect(()=>{u&&g.current&&(v(!0),g.current=!1)},[s,c,u,v]),r.default.useEffect(()=>{let e=e=>{var t;y.current=!0;let r=(null==(t=e.state)?void 0:t.modal)==="menu";r&&!u?(w(!0),p()):!r&&u&&v(!0),setTimeout(()=>{y.current=!1},100)};return window.addEventListener("popstate",e),()=>{window.removeEventListener("popstate",e)}},[u,p,v]),r.default.useEffect(()=>{var e;(null==(e=window.history.state)?void 0:e.modal)!=="menu"||u||(w(!0),p())},[]),r.default.useEffect(()=>{var e;if(!u)return;let t=window.scrollY;document.body.style.position="fixed",document.body.style.top="-".concat(t,"px"),document.body.style.width="100%",(null==(e=window.history.state)?void 0:e.modal)!=="menu"&&window.history.pushState((0,a._)((0,n._)({},window.history.state),{modal:"menu"}),"");let r=e=>{"Escape"===e.key&&u&&window.history.back()};return window.addEventListener("keydown",r),()=>{if(window.removeEventListener("keydown",r),u){let e=document.body.style.top;document.body.style.position="",document.body.style.top="",document.body.style.width="",e&&window.scrollTo(0,-1*parseInt(e))}}},[u]);let k=async()=>{await h()},j=t=>{s===t?window.history.back():(g.current=!0,e.replace(t))};return(0,t.jsxs)("div",{className:"menu-container ".concat(u?"is-open":""," ").concat(m?"is-closing":""," ").concat(f?"no-animation":""),children:[(0,t.jsx)("div",{className:"back-arrow",onClick:()=>window.history.back(),children:(0,t.jsx)("img",{src:l.src||l,alt:"Back Arrow",className:"arrow-icon"})}),(0,t.jsxs)("div",{className:"menu-items",children:[(0,t.jsx)("button",{className:"menu-button",onClick:()=>j("/"),children:"HOME"}),(0,t.jsx)("button",{className:"menu-button",onClick:()=>j("/works"),children:"WORKS"}),(0,t.jsx)("button",{className:"menu-button",onClick:()=>j("/exhibition"),children:"EXHIBITION"}),(0,t.jsx)("button",{className:"menu-button",onClick:()=>j("/cv"),children:"CV"}),(0,t.jsx)("button",{className:"menu-button",onClick:()=>j("/about"),children:"ABOUT"})]}),(0,t.jsx)("button",{className:"refresh-button",onClick:k,disabled:d,children:d?"REFRESHING...":"REFRESH"})]})};function c(e){let{children:n}=e;return(0,t.jsxs)(o.AppDataProvider,{children:[(0,t.jsx)(r.Suspense,{fallback:null,children:(0,t.jsx)(s,{})}),(0,t.jsx)("div",{id:"root",children:n})]})}e.s(["default",()=>c],61331)}]);
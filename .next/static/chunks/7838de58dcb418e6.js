(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,9609,20786,92808,e=>{"use strict";function t(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){var n;n=r[t],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n})}return e}function r(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r})(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e}e.s(["_",()=>t],20786),e.s(["_",()=>r],92808);var n=e.i(43476),o=e.i(71645);let i={home:null,about:null,cv1:null,cv2:null,exhibitions:null,works:null,loading:!1,error:null},a=(0,o.createContext)(),l=e=>{var t;let r=[];(null==(t=e.home)?void 0:t.link)&&r.push(e.home.link),Array.isArray(e.exhibitions)&&e.exhibitions.forEach(e=>{e.link&&r.push(e.link),Array.isArray(e.images)&&e.images.forEach(e=>{e.link&&r.push(e.link)})}),Array.isArray(e.works)&&e.works.forEach(e=>{e.link&&r.push(e.link)}),[...new Set(r)].forEach(e=>{(/\.(jpg|jpeg|png|webp|gif|svg)$/i.test(e)||!e.includes(".mp4"))&&(new Image().src=e)})};e.s(["AppDataProvider",0,e=>{let{children:s}=e,[c,u]=(0,o.useState)({home:null,about:null,cv1:null,cv2:null,exhibitions:null,works:null,loading:!1,error:null}),[d,b]=(0,o.useState)(!1),[h,f]=(0,o.useState)(!1),p=(0,o.useRef)(!1),m=(0,o.useCallback)(()=>{b(e=>!e)},[]),w=(0,o.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!p.current&&(e||!c.home||!c.exhibitions)){p.current=!0,u(e=>r(t({},e),{loading:!0})),e&&f(!0);try{console.log(e?"ðŸ”„ Forcing fresh data fetch...":"ðŸ”„ Fetching fresh data from server...");let n=async t=>{try{let r=e?"".concat(t,"?force=true&t=").concat(Date.now()):t,n=await fetch(r).catch(e=>(console.error("Network error for ".concat(t,":"),e),null));if(!n||!n.ok)return null;return await n.json()}catch(e){return console.error("Error for ".concat(t,":"),e),null}},[o,a,s,c,d,b]=await Promise.all([n("/api/getHome"),n("/api/getAbout"),n("/api/getCV1"),n("/api/getCV2"),n("/api/getExhibition"),n("/api/getWorks")]),h={home:o,about:a,cv1:s,cv2:c,exhibitions:d,works:b},f=r(t({},h),{loading:!1,error:null});u(f),Object.assign(i,f),l(h)}catch(r){console.error("Failed to fetch app data:",r);let e={loading:!1,error:r.message};u(r=>t({},r,e)),Object.assign(i,t({},c,e))}finally{p.current=!1,f(!1)}}},[c]),y=(0,o.useCallback)(()=>w(!0),[w]);(0,o.useEffect)(()=>{(c.home||c.exhibitions)&&l(c)},[c]);let v=r(t({},c),{isMenuOpen:d,isRefreshing:h,toggleMenu:m,fetchAllData:w,refreshData:y});return(0,n.jsx)(a.Provider,{value:v,children:s})},"useAppData",0,()=>{let e=(0,o.useContext)(a);if(!e)throw Error("useAppData must be used within AppDataProvider");return e}],9609)},18566,(e,t,r)=>{t.exports=e.r(76562)},22046,e=>{e.v("/_next/static/media/back-arrow.e8763aae.svg")},61331,e=>{"use strict";var t=e.i(43476),r=e.i(71645),n=e.i(9609),o=e.i(20786),i=e.i(92808),a=e.i(18566);let l={src:e.i(22046).default,width:44,height:42,blurWidth:0,blurHeight:0},s=()=>{let e=(0,a.useRouter)(),s=(0,a.usePathname)(),c=(0,a.useSearchParams)(),{isMenuOpen:u,isRefreshing:d,toggleMenu:b,refreshData:h}=(0,n.useAppData)(),[f,p]=r.default.useState(!1),[m,w]=r.default.useState(!1),y=r.default.useRef(!1),v=r.default.useRef(!1),g=r.default.useCallback(function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e||y.current||v.current){u&&b(),p(!1),w(!1);return}p(!0),setTimeout(()=>{u&&b(),p(!1)},300)},[u,b]);r.default.useEffect(()=>{u&&v.current&&(g(!0),v.current=!1)},[s,c,u,g]),r.default.useEffect(()=>{let e=e=>{var t;y.current=!0;let r=(null==(t=e.state)?void 0:t.modal)==="menu";r&&!u?(w(!0),b()):!r&&u&&g(!0),setTimeout(()=>{y.current=!1},100)};return window.addEventListener("popstate",e),()=>{window.removeEventListener("popstate",e)}},[u,b,g]),r.default.useEffect(()=>{var e;(null==(e=window.history.state)?void 0:e.modal)!=="menu"||u||(w(!0),b())},[]),r.default.useEffect(()=>{var e;if(!u)return;let t=window.scrollY;document.body.style.position="fixed",document.body.style.top="-".concat(t,"px"),document.body.style.width="100%",(null==(e=window.history.state)?void 0:e.modal)!=="menu"&&window.history.pushState((0,i._)((0,o._)({},window.history.state),{modal:"menu"}),"");let r=e=>{"Escape"===e.key&&u&&window.history.back()};return window.addEventListener("keydown",r),()=>{if(window.removeEventListener("keydown",r),u){let e=document.body.style.top;document.body.style.position="",document.body.style.top="",document.body.style.width="",e&&window.scrollTo(0,-1*parseInt(e))}}},[u]);let k=async()=>{await h()},j=t=>{s===t?window.history.back():(v.current=!0,e.replace(t))};return(0,t.jsxs)("div",{className:"menu-container ".concat(u?"is-open":""," ").concat(f?"is-closing":""," ").concat(m?"no-animation":""),children:[(0,t.jsx)("div",{className:"back-arrow",onClick:()=>window.history.back(),children:(0,t.jsx)("img",{src:l.src||l,alt:"Back Arrow",className:"arrow-icon"})}),(0,t.jsxs)("div",{className:"menu-items",children:[(0,t.jsx)("button",{className:"menu-button",onClick:()=>j("/"),children:"HOME"}),(0,t.jsx)("button",{className:"menu-button",onClick:()=>j("/works"),children:"WORKS"}),(0,t.jsx)("button",{className:"menu-button",onClick:()=>j("/exhibition"),children:"EXHIBITION"}),(0,t.jsx)("button",{className:"menu-button",onClick:()=>j("/cv"),children:"CV"}),(0,t.jsx)("button",{className:"menu-button",onClick:()=>j("/about"),children:"ABOUT"})]}),(0,t.jsx)("button",{className:"refresh-button",onClick:k,disabled:d,children:d?"REFRESHING...":"REFRESH"})]})};function c(e){let{children:o}=e;return(0,t.jsxs)(n.AppDataProvider,{children:[(0,t.jsx)(r.Suspense,{fallback:null,children:(0,t.jsx)(s,{})}),(0,t.jsx)("div",{id:"root",children:o})]})}e.s(["default",()=>c],61331)}]);
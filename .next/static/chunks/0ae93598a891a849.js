(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,9609,20786,92808,e=>{"use strict";function t(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){var n;n=r[t],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n})}return e}function r(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r})(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e}e.s(["_",()=>t],20786),e.s(["_",()=>r],92808);var n=e.i(43476),o=e.i(71645);let l={home:null,about:null,cv1:null,cv2:null,exhibitions:null,works:null,loading:!1,error:null},i=(0,o.createContext)(),a=e=>{var t;let r=[];(null==(t=e.home)?void 0:t.link)&&r.push(e.home.link),Array.isArray(e.exhibitions)&&e.exhibitions.forEach(e=>{e.link&&r.push(e.link),Array.isArray(e.images)&&e.images.forEach(e=>{e.link&&r.push(e.link)})}),Array.isArray(e.works)&&e.works.forEach(e=>{e.link&&r.push(e.link)}),[...new Set(r)].forEach(e=>{(/\.(jpg|jpeg|png|webp|gif|svg)$/i.test(e)||!e.includes(".mp4"))&&(new Image().src=e)})};e.s(["AppDataProvider",0,e=>{let{children:s}=e,[c,u]=(0,o.useState)({home:null,about:null,cv1:null,cv2:null,exhibitions:null,works:null,loading:!1,error:null}),[d,m]=(0,o.useState)(!1),w=(0,o.useRef)(!1);(0,o.useEffect)(()=>{try{let e=localStorage.getItem("appData"),n=localStorage.getItem("appDataTimestamp");if(e&&n&&Date.now()-parseInt(n,10)<18e5){let n=JSON.parse(e),o=r(t({},n),{loading:!1});u(o),Object.assign(l,o),a(o)}}catch(e){console.error("Failed to load cached data:",e)}},[]);let p=(0,o.useCallback)(()=>{m(e=>!e)},[]),h=(0,o.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!w.current){if(!e){let e=localStorage.getItem("appDataTimestamp");if(e&&Date.now()-parseInt(e,10)<18e5&&c.home&&c.exhibitions)return}w.current=!0,u(e=>r(t({},e),{loading:!0}));try{console.log("ðŸ”„ Fetching fresh data from server...");let e=async e=>{try{let t=await fetch(e).catch(t=>(console.error("Network error for ".concat(e,":"),t),null));if(!t)return null;if(!t.ok)return console.warn("Server error for ".concat(e,": status ").concat(t.status)),null;return await t.json()}catch(t){return console.error("JSON parsing error for ".concat(e,":"),t),null}},[n,o,i,s,c,d]=await Promise.all([e("/api/getHome"),e("/api/getAbout"),e("/api/getCV1"),e("/api/getCV2"),e("/api/getExhibition"),e("/api/getWorks")]),m={home:n,about:o,cv1:i,cv2:s,exhibitions:c,works:d};localStorage.setItem("appData",JSON.stringify(m)),localStorage.setItem("appDataTimestamp",Date.now().toString());let w=r(t({},m),{loading:!1,error:null});u(w),Object.assign(l,w),a(m)}catch(r){console.error("Failed to fetch app data:",r);let e={loading:!1,error:r.message};u(r=>t({},r,e)),Object.assign(l,t({},c,e))}finally{w.current=!1}}},[c]),f=(0,o.useCallback)(()=>h(!0),[h]);(0,o.useEffect)(()=>{(c.home||c.exhibitions)&&a(c)},[c]);let b=r(t({},c),{isMenuOpen:d,toggleMenu:p,fetchAllData:h,refreshData:f});return(0,n.jsx)(i.Provider,{value:b,children:s})},"useAppData",0,()=>{let e=(0,o.useContext)(i);if(!e)throw Error("useAppData must be used within AppDataProvider");return e}],9609)},18566,(e,t,r)=>{t.exports=e.r(76562)},22046,e=>{e.v("/_next/static/media/back-arrow.e8763aae.svg")},61331,e=>{"use strict";var t=e.i(43476),r=e.i(71645),n=e.i(9609),o=e.i(18566);let l=()=>{let e=(0,o.usePathname)(),t={pathname:e,key:e+(0,o.useSearchParams)().toString()},n=(()=>{let[e,t]=(0,r.useState)("PUSH");return(0,r.useEffect)(()=>{let e=()=>t("POP");return window.addEventListener("popstate",e),()=>window.removeEventListener("popstate",e)},[]),e})(),l=(0,r.useRef)(!0),i=(0,r.useRef)(!1),a=(0,r.useRef)(0),s=(0,r.useRef)(t.pathname),c=(0,r.useRef)(t.key),u=(0,r.useRef)(null);return(0,r.useEffect)(()=>{"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual"),window.scrollTo(0,0)},[]),(0,r.useEffect)(()=>{let e=()=>{i.current||(a.current=window.scrollY)};return window.addEventListener("scroll",e,{passive:!0}),()=>window.removeEventListener("scroll",e)},[]),(0,r.useLayoutEffect)(()=>{u.current&&(u.current(),u.current=null);let e=s.current===t.pathname,r="scroll_".concat(t.key);if(!l.current)try{sessionStorage.setItem("scroll_".concat(c.current),a.current.toString())}catch(e){}if("POP"!==n||l.current)if(e&&!l.current){let e=a.current;if(e>10){i.current=!0;let t=document.documentElement.style,r=t.minHeight;t.minHeight=e+window.innerHeight+"px";let n=()=>{i.current&&window.scrollTo({top:e,behavior:"instant"})};n();let o=setInterval(n,16),l=new ResizeObserver(n);l.observe(document.body);let s=()=>{i.current&&(i.current=!1,clearInterval(o),l.disconnect(),t.minHeight=r,a.current=window.scrollY)},c=setTimeout(s,400);u.current=()=>{clearTimeout(c),s()}}}else window.scrollTo(0,0),a.current=0;else{let e=sessionStorage.getItem(r),t=e?parseInt(e,10):0;if(t>0){i.current=!0;let e=document.documentElement.style,r=e.minHeight;e.minHeight=t+window.innerHeight+500+"px";let n=()=>{i.current&&window.scrollTo({top:t,behavior:"instant"})};n();let o=setInterval(n,16),l=new ResizeObserver(n);l.observe(document.body);let s=()=>{i.current&&(i.current=!1,clearInterval(o),l.disconnect(),e.minHeight=r,a.current=window.scrollY)};window.addEventListener("wheel",s,{passive:!0}),window.addEventListener("touchstart",s,{passive:!0});let c=setTimeout(s,2500);u.current=()=>{clearTimeout(c),s()}}}return l.current=!1,s.current=t.pathname,c.current=t.key,()=>{u.current&&(u.current(),u.current=null)}},[t,n]),null};var i=e.i(20786),a=e.i(92808);let s={src:e.i(22046).default,width:44,height:42,blurWidth:0,blurHeight:0},c=()=>{let e=(0,o.useRouter)(),l=(0,o.usePathname)(),c=(0,o.useSearchParams)(),{isMenuOpen:u,toggleMenu:d,refreshData:m,loading:w}=(0,n.useAppData)(),[p,h]=r.default.useState(!1),[f,b]=r.default.useState(!1),g=r.default.useRef(!1),y=r.default.useRef(!1),v=r.default.useCallback(function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e||g.current){u&&d(),h(!1),b(!1);return}h(!0),setTimeout(()=>{u&&d(),h(!1)},300)},[u,d]);r.default.useEffect(()=>{u&&v(!0)},[l,c]),r.default.useEffect(()=>{let e=e=>{var t;g.current=!0;let r=(null==(t=e.state)?void 0:t.modal)==="menu";r&&!u?(b(!0),d()):!r&&u&&v(!0),setTimeout(()=>{g.current=!1},100)};return window.addEventListener("popstate",e),()=>{window.removeEventListener("popstate",e)}},[u,d,v]),r.default.useEffect(()=>{var e;(null==(e=window.history.state)?void 0:e.modal)!=="menu"||u||(b(!0),d())},[]),r.default.useEffect(()=>{var e;if(!u)return;let t=window.scrollY;document.body.style.position="fixed",document.body.style.top="-".concat(t,"px"),document.body.style.width="100%",(null==(e=window.history.state)?void 0:e.modal)!=="menu"&&window.history.pushState((0,a._)((0,i._)({},window.history.state),{modal:"menu"}),"");let r=e=>{"Escape"===e.key&&u&&window.history.back()};return window.addEventListener("keydown",r),()=>{if(window.removeEventListener("keydown",r),u){let e=document.body.style.top;document.body.style.position="",document.body.style.top="",document.body.style.width="",e&&window.scrollTo(0,-1*parseInt(e))}y.current=!1}},[u,d]);let k=async()=>{await m()},j=t=>{l===t?window.history.back():(y.current=!0,e.replace(t))};return u?(0,t.jsxs)("div",{className:"menu-container ".concat(p?"is-closing":""," ").concat(f?"no-animation":""),children:[(0,t.jsx)("div",{className:"back-arrow",onClick:()=>window.history.back(),children:(0,t.jsx)("img",{src:s.src||s,alt:"Back Arrow",className:"arrow-icon"})}),(0,t.jsxs)("div",{className:"menu-items",children:[(0,t.jsx)("button",{className:"menu-button",onClick:()=>j("/"),children:"HOME"}),(0,t.jsx)("button",{className:"menu-button",onClick:()=>j("/works"),children:"WORKS"}),(0,t.jsx)("button",{className:"menu-button",onClick:()=>j("/exhibition"),children:"EXHIBITION"}),(0,t.jsx)("button",{className:"menu-button",onClick:()=>j("/cv"),children:"CV"}),(0,t.jsx)("button",{className:"menu-button",onClick:()=>j("/about"),children:"ABOUT"})]}),(0,t.jsx)("button",{className:"refresh-button",onClick:k,disabled:w,children:w?"REFRESHING...":"REFRESH"})]}):null};function u(e){let{children:o}=e;return(0,t.jsxs)(n.AppDataProvider,{children:[(0,t.jsx)(r.Suspense,{fallback:null,children:(0,t.jsx)(l,{})}),(0,t.jsx)(r.Suspense,{fallback:null,children:(0,t.jsx)(c,{})}),(0,t.jsx)("div",{id:"root",children:o})]})}e.s(["default",()=>u],61331)}]);
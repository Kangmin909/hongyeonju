module.exports=[18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},24725,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/after-task-async-storage.external.js",()=>require("next/dist/server/app-render/after-task-async-storage.external.js"))},43285,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/dynamic-access-async-storage.external.js",()=>require("next/dist/server/app-render/dynamic-access-async-storage.external.js"))},42602,(a,b,c)=>{"use strict";b.exports=a.r(18622)},87924,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactJsxRuntime},72131,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].React},9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},21907,a=>{"use strict";var b=a.i(87924),c=a.i(72131);let d={home:null,about:null,cv1:null,cv2:null,exhibitions:null,works:null,loading:!1,error:null},e=(0,c.createContext)(),f=a=>{let b=[];a.home?.link&&b.push(a.home.link),Array.isArray(a.exhibitions)&&a.exhibitions.forEach(a=>{a.link&&b.push(a.link),Array.isArray(a.images)&&a.images.forEach(a=>{a.link&&b.push(a.link)})}),Array.isArray(a.works)&&a.works.forEach(a=>{a.link&&b.push(a.link)}),[...new Set(b)].forEach(a=>{(/\.(jpg|jpeg|png|webp|gif|svg)$/i.test(a)||!a.includes(".mp4"))&&(new Image().src=a)})};a.s(["AppDataProvider",0,({children:a})=>{let[g,h]=(0,c.useState)({home:null,about:null,cv1:null,cv2:null,exhibitions:null,works:null,loading:!1,error:null}),[i,j]=(0,c.useState)(!1),k=(0,c.useRef)(!1);(0,c.useEffect)(()=>{try{let a=localStorage.getItem("appData"),b=localStorage.getItem("appDataTimestamp");if(a&&b&&Date.now()-parseInt(b,10)<18e5){let b={...JSON.parse(a),loading:!1};h(b),Object.assign(d,b),f(b)}}catch(a){console.error("Failed to load cached data:",a)}},[]);let l=(0,c.useCallback)(()=>{j(a=>!a)},[]),m=(0,c.useCallback)(async(a=!1)=>{if(!k.current){if(!a){let a=localStorage.getItem("appDataTimestamp");if(a&&Date.now()-parseInt(a,10)<18e5&&g.home&&g.exhibitions)return}k.current=!0,h(a=>({...a,loading:!0}));try{console.log("ðŸ”„ Fetching fresh data from server...");let a=async a=>{try{let b=await fetch(a).catch(b=>(console.error(`Network error for ${a}:`,b),null));if(!b)return null;if(!b.ok)return console.warn(`Server error for ${a}: status ${b.status}`),null;return await b.json()}catch(b){return console.error(`JSON parsing error for ${a}:`,b),null}},[b,c,e,g,i,j]=await Promise.all([a("/api/getHome"),a("/api/getAbout"),a("/api/getCV1"),a("/api/getCV2"),a("/api/getExhibition"),a("/api/getWorks")]),k={home:b,about:c,cv1:e,cv2:g,exhibitions:i,works:j};localStorage.setItem("appData",JSON.stringify(k)),localStorage.setItem("appDataTimestamp",Date.now().toString());let l={...k,loading:!1,error:null};h(l),Object.assign(d,l),f(k)}catch(b){console.error("Failed to fetch app data:",b);let a={loading:!1,error:b.message};h(b=>({...b,...a})),Object.assign(d,{...g,...a})}finally{k.current=!1}}},[g]),n=(0,c.useCallback)(()=>m(!0),[m]);(0,c.useEffect)(()=>{(g.home||g.exhibitions)&&f(g)},[g]);let o={...g,isMenuOpen:i,toggleMenu:l,fetchAllData:m,refreshData:n};return(0,b.jsx)(e.Provider,{value:o,children:a})},"useAppData",0,()=>{let a=(0,c.useContext)(e);if(!a)throw Error("useAppData must be used within AppDataProvider");return a}])},51234,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"HandleISRError",{enumerable:!0,get:function(){return e}});let d=a.r(56704).workAsyncStorage;function e({error:a}){if(d){let b=d.getStore();if(b?.isStaticGeneration)throw a&&console.error(a),a}return null}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},40622,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"default",{enumerable:!0,get:function(){return h}});let d=a.r(87924),e=a.r(51234),f={fontFamily:'system-ui,"Segoe UI",Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji"',height:"100vh",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},g={fontSize:"14px",fontWeight:400,lineHeight:"28px",margin:"0 8px"},h=function({error:a}){let b=a?.digest;return(0,d.jsxs)("html",{id:"__next_error__",children:[(0,d.jsx)("head",{}),(0,d.jsxs)("body",{children:[(0,d.jsx)(e.HandleISRError,{error:a}),(0,d.jsx)("div",{style:f,children:(0,d.jsxs)("div",{children:[(0,d.jsxs)("h2",{style:g,children:["Application error: a ",b?"server":"client","-side exception has occurred while loading ",window.location.hostname," (see the"," ",b?"server logs":"browser console"," for more information)."]}),b?(0,d.jsx)("p",{style:g,children:`Digest: ${b}`}):null]})})]})]})};("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},22046,a=>{a.v("/_next/static/media/back-arrow.e8763aae.svg")},63807,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(21907),e=a.i(50944);let f=()=>{let a=(0,e.usePathname)(),b={pathname:a,key:a+(0,e.useSearchParams)().toString()},d=(()=>{let[a,b]=(0,c.useState)("PUSH");return(0,c.useEffect)(()=>{let a=()=>b("POP");return window.addEventListener("popstate",a),()=>window.removeEventListener("popstate",a)},[]),a})(),f=(0,c.useRef)(!0),g=(0,c.useRef)(!1),h=(0,c.useRef)(0),i=(0,c.useRef)(b.pathname),j=(0,c.useRef)(b.key),k=(0,c.useRef)(null);return(0,c.useEffect)(()=>{"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual"),window.scrollTo(0,0)},[]),(0,c.useEffect)(()=>{let a=()=>{g.current||(h.current=window.scrollY)};return window.addEventListener("scroll",a,{passive:!0}),()=>window.removeEventListener("scroll",a)},[]),(0,c.useLayoutEffect)(()=>{k.current&&(k.current(),k.current=null);let a=i.current===b.pathname,c=`scroll_${b.key}`;if(!f.current)try{sessionStorage.setItem(`scroll_${j.current}`,h.current.toString())}catch(a){}if("POP"!==d||f.current)if(a&&!f.current){let a=h.current;if(a>10){g.current=!0;let b=document.documentElement.style,c=b.minHeight;b.minHeight=a+window.innerHeight+"px";let d=()=>{g.current&&window.scrollTo({top:a,behavior:"instant"})};d();let e=setInterval(d,16),f=new ResizeObserver(d);f.observe(document.body);let i=()=>{g.current&&(g.current=!1,clearInterval(e),f.disconnect(),b.minHeight=c,h.current=window.scrollY)},j=setTimeout(i,400);k.current=()=>{clearTimeout(j),i()}}}else window.scrollTo(0,0),h.current=0;else{let a=sessionStorage.getItem(c),b=a?parseInt(a,10):0;if(b>0){g.current=!0;let a=document.documentElement.style,c=a.minHeight;a.minHeight=b+window.innerHeight+500+"px";let d=()=>{g.current&&window.scrollTo({top:b,behavior:"instant"})};d();let e=setInterval(d,16),f=new ResizeObserver(d);f.observe(document.body);let i=()=>{g.current&&(g.current=!1,clearInterval(e),f.disconnect(),a.minHeight=c,h.current=window.scrollY)};window.addEventListener("wheel",i,{passive:!0}),window.addEventListener("touchstart",i,{passive:!0});let j=setTimeout(i,2500);k.current=()=>{clearTimeout(j),i()}}}return f.current=!1,i.current=b.pathname,j.current=b.key,()=>{k.current&&(k.current(),k.current=null)}},[b,d]),null},g={src:a.i(22046).default,width:44,height:42,blurWidth:0,blurHeight:0},h=()=>{let a=(0,e.useRouter)(),f=(0,e.usePathname)(),h=(0,e.useSearchParams)(),{isMenuOpen:i,toggleMenu:j,refreshData:k,loading:l}=(0,d.useAppData)(),[m,n]=c.default.useState(!1),[o,p]=c.default.useState(!1),q=c.default.useRef(!1),r=c.default.useRef(!1),s=c.default.useCallback((a=!1)=>{if(a||q.current){i&&j(),n(!1),p(!1);return}n(!0),setTimeout(()=>{i&&j(),n(!1)},300)},[i,j]);c.default.useEffect(()=>{i&&s(!0)},[f,h]),c.default.useEffect(()=>{let a=a=>{q.current=!0;let b=a.state?.modal==="menu";b&&!i?(p(!0),j()):!b&&i&&s(!0),setTimeout(()=>{q.current=!1},100)};return window.addEventListener("popstate",a),()=>{window.removeEventListener("popstate",a)}},[i,j,s]),c.default.useEffect(()=>{window.history.state?.modal!=="menu"||i||(p(!0),j())},[]),c.default.useEffect(()=>{if(!i)return;let a=window.scrollY;document.body.style.position="fixed",document.body.style.top=`-${a}px`,document.body.style.width="100%",window.history.state?.modal!=="menu"&&window.history.pushState({...window.history.state,modal:"menu"},"");let b=a=>{"Escape"===a.key&&i&&window.history.back()};return window.addEventListener("keydown",b),()=>{if(window.removeEventListener("keydown",b),i){let a=document.body.style.top;document.body.style.position="",document.body.style.top="",document.body.style.width="",a&&window.scrollTo(0,-1*parseInt(a))}r.current=!1}},[i,j]);let t=async()=>{await k()},u=b=>{f===b?window.history.back():(r.current=!0,a.replace(b))};return i?(0,b.jsxs)("div",{className:`menu-container ${m?"is-closing":""} ${o?"no-animation":""}`,children:[(0,b.jsx)("div",{className:"back-arrow",onClick:()=>window.history.back(),children:(0,b.jsx)("img",{src:g.src||g,alt:"Back Arrow",className:"arrow-icon"})}),(0,b.jsxs)("div",{className:"menu-items",children:[(0,b.jsx)("button",{className:"menu-button",onClick:()=>u("/"),children:"HOME"}),(0,b.jsx)("button",{className:"menu-button",onClick:()=>u("/works"),children:"WORKS"}),(0,b.jsx)("button",{className:"menu-button",onClick:()=>u("/exhibition"),children:"EXHIBITION"}),(0,b.jsx)("button",{className:"menu-button",onClick:()=>u("/cv"),children:"CV"}),(0,b.jsx)("button",{className:"menu-button",onClick:()=>u("/about"),children:"ABOUT"})]}),(0,b.jsx)("button",{className:"refresh-button",onClick:t,disabled:l,children:l?"REFRESHING...":"REFRESH"})]}):null};function i({children:a}){return(0,b.jsxs)(d.AppDataProvider,{children:[(0,b.jsx)(c.Suspense,{fallback:null,children:(0,b.jsx)(f,{})}),(0,b.jsx)(c.Suspense,{fallback:null,children:(0,b.jsx)(h,{})}),(0,b.jsx)("div",{id:"root",children:a})]})}a.s(["default",()=>i],63807)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__0a232b07._.js.map
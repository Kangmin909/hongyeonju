module.exports=[30607,58338,a=>{"use strict";var b=a.i(87924),c=a.i(72131);let d=a=>{let[b,d]=(0,c.useState)(!1);return(0,c.useEffect)(()=>{},[a]),b};a.s(["default",0,({images:a=[],initialIndex:e=0,onClose:f})=>{let g=d("(pointer: fine)"),[h,i]=(0,c.useState)(e),[j,k]=(0,c.useState)(1),[l,m]=(0,c.useState)({x:0,y:0}),[n,o]=(0,c.useState)(window.innerWidth),[p,q]=(0,c.useState)(!0),[r,s]=(0,c.useState)(!1),[t,u]=(0,c.useState)(!0),[v,w]=(0,c.useState)(!1),x=(0,c.useRef)(null),y=(0,c.useRef)(null),z=(0,c.useRef)(null),A=(0,c.useRef)(null),B=(0,c.useRef)({dragType:null,isDragging:!1,hasMoved:!1,initialClient:{x:0,y:0},initialZoom:1,initialOffset:{x:0,y:0},isPinching:!1,initialPinchDistance:0,initialPinchCenter:{x:0,y:0}}),C=(0,c.useCallback)(()=>{z.current&&clearTimeout(z.current),g&&(z.current=setTimeout(()=>{q(!1)},2500))},[g]),D=(0,c.useCallback)(()=>{k(1),m({x:0,y:0}),B.current.dragType=null},[]),E=(0,c.useCallback)(()=>{h<a.length-1&&(i(a=>a+1),D())},[h,a.length,D]),F=(0,c.useCallback)(()=>{h>0&&(i(a=>a-1),D())},[h,D]),G=(0,c.useRef)(f),H=(0,c.useRef)(!1);(0,c.useEffect)(()=>{G.current=f},[f]),(0,c.useEffect)(()=>{let a=window.scrollY,b=window.location.pathname,c=window.history.scrollRestoration;"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual"),document.body.style.position="fixed",document.body.style.top=`-${a}px`,document.body.style.width="100%",document.body.style.overflowY="hidden";let d=setTimeout(()=>{let a=window.location.pathname+window.location.search;window.history.pushState({modal:"image"},"",a)},10),e=()=>{H.current=!0,G.current&&G.current()};window.addEventListener("popstate",e);let f=setTimeout(()=>u(!1),50),g=new ResizeObserver(()=>{w(!0),x.current&&o(x.current.getBoundingClientRect().width),D(),A.current&&clearTimeout(A.current),A.current=setTimeout(()=>w(!1),300)});return x.current&&g.observe(x.current),()=>{window.removeEventListener("popstate",e),clearTimeout(d),H.current||window.history.state?.modal!=="image"||window.history.back();let a=document.body.style.top,h=window.location.pathname;if(document.body.style.position="",document.body.style.top="",document.body.style.width="",document.body.style.overflowY="","scrollRestoration"in window.history&&(window.history.scrollRestoration=c||"auto"),a&&h===b){let b=Math.abs(parseInt(a,10));requestAnimationFrame(()=>window.scrollTo(0,b))}clearTimeout(f),z.current&&clearTimeout(z.current),g.disconnect()}},[D]),(0,c.useEffect)(()=>{C();let a=a=>{q(!0),C(),"ArrowRight"===a.key&&E(),"ArrowLeft"===a.key&&F(),"Escape"===a.key&&G.current?.()},b=()=>{g&&(q(!0),C())};return window.addEventListener("keydown",a),window.addEventListener("mousemove",b),()=>{z.current&&clearTimeout(z.current),y.current&&clearTimeout(y.current),window.removeEventListener("keydown",a),window.removeEventListener("mousemove",b)}},[E,F,C,g]);let{handleTouchStart:I,handleTouchMove:J,handleTouchEnd:K,handleDoubleTapZoom:L,getClampedOffset:M}=(({zoom:a,setZoom:b,offset:d,setOffset:e,viewportRef:f,currentIndex:g,imagesLength:h,containerWidth:i,onClose:j,handlePrev:k,handleNext:l,resetHideTimer:m,setIsDraggingState:n,state:o,resetZoom:p})=>{let q=(0,c.useCallback)((a,b,c)=>{if(!f.current)return{x:a,y:b};let d=f.current.offsetWidth,e=f.current.offsetHeight,g=d*c,h=e*c,i=0,j=0;return g>d&&(i=(g-d)/2),h>e&&(j=(h-e)/2),{x:Math.max(-i,Math.min(i,a)),y:Math.max(-j,Math.min(j,b))}},[f]),r=(0,c.useCallback)(b=>{if(m(),2===b.touches.length){o.current.isPinching=!0;let c=b.touches[0],e=b.touches[1];if(o.current.initialPinchDistance=Math.hypot(c.clientX-e.clientX,c.clientY-e.clientY),o.current.initialZoom=a,o.current.initialOffset=d,f.current){let a=f.current.getBoundingClientRect(),b=a.left+a.width/2,d=a.top+a.height/2;o.current.initialPinchCenter={x:(c.clientX+e.clientX)/2-b,y:(c.clientY+e.clientY)/2-d}}else o.current.initialPinchCenter={x:0,y:0};return}let c=b.touches[0];c.clientX<40||(o.current.isDragging=!0,n(!0),o.current.initialClient={x:c.clientX,y:c.clientY},o.current.initialZoom=a,o.current.initialOffset=d,o.current.hasMoved=!1,o.current.dragType=null)},[a,d,m,n,f,o]),s=(0,c.useCallback)(c=>{if(o.current.isPinching&&2===c.touches.length){let a=c.touches[0],d=c.touches[1],g=Math.hypot(a.clientX-d.clientX,a.clientY-d.clientY)/o.current.initialPinchDistance,h=Math.min(Math.max(o.current.initialZoom*g,1),5),i=0,j=0;if(f.current){let b=f.current.getBoundingClientRect(),c=b.left+b.width/2,e=b.top+b.height/2,g={x:(a.clientX+d.clientX)/2-c,y:(a.clientY+d.clientY)/2-e},k=h/o.current.initialZoom,l=o.current.initialPinchCenter.x-o.current.initialOffset.x,m=o.current.initialPinchCenter.y-o.current.initialOffset.y;i=g.x-l*k,j=g.y-m*k}b(h),e(q(i,j,h));return}if(!o.current.isDragging||c.touches.length>1)return;let d=c.touches[0],i=d.clientX-o.current.initialClient.x,j=d.clientY-o.current.initialClient.y;if((Math.abs(i)>10||Math.abs(j)>10)&&(o.current.hasMoved=!0),a>1)e(q(o.current.initialOffset.x+i,o.current.initialOffset.y+j,a));else if(!o.current.dragType&&(Math.abs(j)>Math.abs(i)&&j>0?o.current.dragType="dismiss":Math.abs(i)>Math.abs(j)&&(o.current.dragType="swipe")),"dismiss"===o.current.dragType)e({x:0,y:Math.max(0,j)});else if("swipe"===o.current.dragType){let a=o.current.initialOffset.x+i;0===g&&a>0&&(a*=.3),g===h-1&&a<0&&(a*=.3),e({x:a,y:0})}},[a,g,h,q,e,b,f,o]);return{handleTouchStart:r,handleTouchMove:s,handleTouchEnd:(0,c.useCallback)(b=>{if(o.current.isPinching&&b.touches.length<2){if(o.current.isPinching=!1,1===b.touches.length){let c=b.touches[0];o.current.isDragging=!0,n(!0),o.current.initialClient={x:c.clientX,y:c.clientY},o.current.initialOffset=d,o.current.initialZoom=a,o.current.hasMoved=!1,o.current.dragType=null}return}if(!(b.touches.length>0)){if(o.current.isDragging&&1===a){if("dismiss"===o.current.dragType&&d.y>100)return void j();if("swipe"===o.current.dragType){let a=.2*i;d.x>a?k():d.x<-a&&l()}e({x:0,y:0})}o.current.isDragging=!1,n(!1),o.current.dragType=null}},[a,d,i,j,k,l,n,e,o]),handleDoubleTapZoom:(0,c.useCallback)((c,d,f)=>{if(a>1)b(1),e({x:0,y:0}),o.current.dragType=null;else{let a=f.getBoundingClientRect(),g=c-(a.left+a.width/2),h=d-(a.top+a.height/2);b(2.5),e(q(-(1.5*g),-(1.5*h),2.5))}},[a,b,e,q,o]),getClampedOffset:q}})({zoom:j,setZoom:k,offset:l,setOffset:m,viewportRef:x,currentIndex:h,imagesLength:a.length,containerWidth:n,onClose:f,handlePrev:F,handleNext:E,resetHideTimer:C,setIsDraggingState:s,state:B,resetZoom:D}),N=(0,c.useCallback)(a=>{C(),B.current.isDragging=!0,s(!0),B.current.initialClient={x:a.clientX,y:a.clientY},B.current.initialOffset=l,B.current.hasMoved=!1,B.current.dragType=null},[l,C]),O=(0,c.useCallback)(b=>{if(!B.current.isDragging||b.touches)return;let c=b.clientX-B.current.initialClient.x,d=b.clientY-B.current.initialClient.y;if((Math.abs(c)>10||Math.abs(d)>10)&&(B.current.hasMoved=!0,q(!0),C()),j>1)m(M(B.current.initialOffset.x+c,B.current.initialOffset.y+d,j));else if(!B.current.dragType&&(Math.abs(d)>Math.abs(c)&&d>0?B.current.dragType="dismiss":Math.abs(c)>Math.abs(d)&&(B.current.dragType="swipe")),"dismiss"===B.current.dragType)m({x:0,y:Math.max(0,d)});else if("swipe"===B.current.dragType){let b=B.current.initialOffset.x+c;0===h&&b>0&&(b*=.3),h===a.length-1&&b<0&&(b*=.3),m({x:b,y:0})}},[j,M,C,h,a.length]),P=(0,c.useCallback)(()=>{if(B.current.isDragging&&1===j){if("dismiss"===B.current.dragType&&l.y>100)return void f();if("swipe"===B.current.dragType){let a=.2*n;l.x>a?F():l.x<-a&&E()}m({x:0,y:0})}B.current.isDragging=!1,s(!1),B.current.dragType=null},[j,l.y,l.x,E,F,f,n]),Q=(0,c.useCallback)(a=>{a.preventDefault();let b=Math.min(Math.max(j+(a.deltaY>0?-.2:.2),1),5);if(b===j)return;if(1===b)return void D();if(!x.current)return;let c=x.current.getBoundingClientRect(),d=a.clientX-(c.left+c.width/2),e=a.clientY-(c.top+c.height/2),f=b/j;k(b),m(M(d-(d-l.x)*f,e-(e-l.y)*f,b))},[j,l,D,M]),R="dismiss"===B.current.dragType?Math.max(1-l.y/600,0):1;return(0,b.jsx)("div",{className:`image-modal-overlay ${r?"is-dragging":""}`,style:{backgroundColor:`rgba(0, 0, 0, ${+R})`,transform:"dismiss"===B.current.dragType?`translate3d(0, ${l.y}px, 0)`:"none"},onMouseDown:N,onMouseMove:O,onMouseUp:P,onMouseLeave:P,onTouchStart:I,onTouchMove:J,onTouchEnd:K,onClick:a=>{if(B.current.hasMoved)return;let{clientX:b,clientY:c,target:d}=a;y.current?(clearTimeout(y.current),y.current=null,L(b,c,d)):y.current=setTimeout(()=>{q(a=>{let b=!a;return b?C():z.current&&clearTimeout(z.current),b}),y.current=null},250)},children:(0,b.jsxs)("div",{className:"image-modal-content-container",children:[(0,b.jsxs)("div",{className:`image-modal-header-bar ${!p?"hidden":""}`,children:[(0,b.jsx)("button",{className:"modal-universal-back-btn",onClick:a=>{a.stopPropagation(),f()},"aria-label":"Back",children:(0,b.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,b.jsx)("line",{x1:"19",y1:"12",x2:"5",y2:"12"}),(0,b.jsx)("polyline",{points:"12 19 5 12 12 5"})]})}),(0,b.jsxs)("div",{className:"image-modal-info",children:[h+1," / ",a.length]})]}),(0,b.jsx)("button",{className:`modal-nav-btn prev ${0===h?"disabled":""} ${!p?"hidden":""}`,onClick:a=>{a.stopPropagation(),F()},disabled:0===h,children:(0,b.jsx)("svg",{width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",children:(0,b.jsx)("polyline",{points:"15 18 9 12 15 6"})})}),(0,b.jsx)("button",{className:`modal-nav-btn next ${h===a.length-1?"disabled":""} ${!p?"hidden":""}`,onClick:a=>{a.stopPropagation(),E()},disabled:h===a.length-1,children:(0,b.jsx)("svg",{width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",children:(0,b.jsx)("polyline",{points:"9 18 15 12 9 6"})})}),(0,b.jsx)("div",{className:"image-modal-wrapper fullscreen",children:(0,b.jsx)("div",{className:"image-modal-viewport fullscreen",ref:x,children:(0,b.jsx)("div",{className:"slider-container",style:{transform:`translate3d(${-h*(n+40)+("swipe"===B.current.dragType?l.x:0)}px, 0, 0)`,transition:r||t||v?"none":"transform 0.4s cubic-bezier(0.16, 1, 0.3, 1)"},children:a.map((a,c)=>(0,b.jsx)("div",{className:"slide-item",children:(0,b.jsx)("div",{className:"media-movable-content",style:c===h?{transform:`translate(${j>1?l.x:0}px, ${j>1?l.y:0}px) scale(${j})`,transition:r?"none":"transform 0.3s cubic-bezier(0.2, 0, 0, 1)"}:{},onWheel:c===h?Q:null,children:(0,b.jsx)("img",{src:a.link,alt:a.title||"",className:"image-modal-img-internal fullscreen",draggable:"false"})})},c))})})}),(0,b.jsx)("div",{className:`image-modal-footer-bar ${!p?"hidden":""}`,children:(0,b.jsxs)("div",{className:"image-modal-caption",children:[(0,b.jsx)("div",{className:"caption-title",children:a[h]?.title}),(0,b.jsx)("div",{className:"caption-meta",children:a[h]?.meta})]})})]})})}],30607),a.s(["default",0,({src:a,alt:e,onClose:f})=>{let g=d("(pointer: fine)"),[h,i]=(0,c.useState)(!0),[j,k]=(0,c.useState)(0),[l,m]=(0,c.useState)(!0),[n,o]=(0,c.useState)(!1),p=(0,c.useRef)(!1),q=(0,c.useRef)(0),r=(0,c.useRef)(0),s=(0,c.useRef)(0),t=(0,c.useRef)(null),u=(0,c.useRef)(!1),v=(0,c.useRef)(0),w=(0,c.useCallback)(()=>{t.current&&clearTimeout(t.current),t.current=setTimeout(()=>m(!1),2500)},[]),x=(0,c.useRef)(f),y=(0,c.useRef)(!1);(0,c.useEffect)(()=>{x.current=f},[f]),(0,c.useEffect)(()=>{let a=window.scrollY,b=window.location.pathname,c=window.history.scrollRestoration;"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual"),document.body.style.position="fixed",document.body.style.top=`-${a}px`,document.body.style.width="100%",document.body.style.overflowY="hidden";let d=setTimeout(()=>{let a=window.location.pathname+window.location.search;window.history.pushState({modal:"video"},"",a)},10),e=()=>{y.current=!0,x.current&&x.current()};return window.addEventListener("popstate",e),()=>{window.removeEventListener("popstate",e),clearTimeout(d),y.current||window.history.state?.modal!=="video"||window.history.back();let a=document.body.style.top,f=window.location.pathname;if(document.body.style.position="",document.body.style.top="",document.body.style.width="",document.body.style.overflowY="","scrollRestoration"in window.history&&(window.history.scrollRestoration=c||"auto"),a&&f===b){let b=Math.abs(parseInt(a,10));requestAnimationFrame(()=>window.scrollTo(0,b))}}},[]),(0,c.useEffect)(()=>{w();let a=a=>{m(!0),w(),"Escape"===a.key&&x.current?.()},b=()=>{g&&(m(!0),w())};return window.addEventListener("keydown",a),window.addEventListener("mousemove",b),()=>{t.current&&clearTimeout(t.current),window.removeEventListener("keydown",a),window.removeEventListener("mousemove",b)}},[w,g]);let z=a=>{p.current=!0,o(!0),u.current=!1;let b="touchstart"===a.type?a.touches[0].clientY:a.clientY,c="touchstart"===a.type?a.touches[0].clientX:a.clientX;q.current=b,r.current=c,s.current=j},A=a=>{if(!p.current)return;let b="touchmove"===a.type?a.touches[0].clientY:a.clientY,c="touchmove"===a.type?a.touches[0].clientX:a.clientX,d=b-q.current,e=c-r.current;(Math.abs(d)>20||Math.abs(e)>20)&&(u.current=!0,m(!0),w());let f=s.current+d;f>=0&&k(f)},B=(0,c.useCallback)(a=>{if(u.current||j>10||g)return;let b=Date.now();b-v.current<300||(v.current=b,m(a=>{let b=!a;return b?w():t.current&&clearTimeout(t.current),b}))},[w,j,g]),C=(0,c.useCallback)(a=>{p.current&&(j>100?f():(k(0),u.current||B(a)),p.current=!1,o(!1),q.current=0,r.current=0,setTimeout(()=>{u.current=!1},150))},[j,f,B]),D=Math.max(1-j/600,0);if(!a)return null;let E=a.includes("youtube.com")||a.includes("youtu.be");return(0,b.jsx)("div",{className:`video-modal-overlay ${n?"is-dragging":""}`,onMouseDown:z,onTouchStart:z,onMouseMove:A,onTouchMove:A,onMouseUp:C,onTouchEnd:C,onMouseLeave:C,onClick:B,style:{backgroundColor:`rgba(0, 0, 0, ${+D})`,transform:`translate3d(0, ${j}px, 0)`},children:(0,b.jsxs)("div",{className:"video-modal-content-container",children:[(0,b.jsx)("button",{className:`video-modal-close-btn ${!l?"hidden":""}`,onClick:a=>{a.stopPropagation(),f()},"aria-label":"Close",children:"Ã—"}),(0,b.jsxs)("div",{className:"video-modal-wrapper",children:[h&&(0,b.jsx)("div",{className:"video-modal-loader"}),E?(0,b.jsx)("iframe",{src:`https://www.youtube.com/embed/${(a=>{if(!a)return null;for(let b of[/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([^&\n?#]+)/,/youtube\.com\/watch\?.*v=([^&\n?#]+)/]){let c=a.match(b);if(c&&c[1])return c[1]}return null})(a)}?autoplay=1`,title:e||"YouTube video",className:"video-modal-element",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,onLoad:()=>i(!1)}):(0,b.jsx)("video",{src:a,className:"video-modal-element",controls:!0,autoPlay:!0,playsInline:!0,onLoadedData:()=>i(!1)})]})]})})}],58338)}];

//# sourceMappingURL=src_components_ImageModal_3dfd284b.js.map